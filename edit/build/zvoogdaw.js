"use strict";var ZvoogPopup=function(){function e(e){this.app=e}return e.prototype.reset=function(e,t,i,s,_){this.app.popupMenuGroup.content.length=0,this.app.popupMenuGroup.ww=this.app.tileLevel.innerWidth/this.app.tileLevel.tapSize,this.app.popupMenuGroup.hh=this.app.tileLevel.innerHeight/this.app.tileLevel.tapSize,this.app.popupMenuGroup.content.push(this.app.tileLevel.actionRectangle(this.closePopupMenu.bind(this),0,0,this.app.tileLevel.innerWidth/this.app.tileLevel.tapSize,this.app.tileLevel.innerHeight/this.app.tileLevel.tapSize,0,0,"fog")),this.app.popupMenuGroup.content.push(this.app.tileLevel.rectangle(e,t,i,_*s*2,0,0,"popupFill"))},e.prototype.showPopupMenu=function(e,t,i,s,_,n){console.log(this.app.tileLevel.translateX,this.app.tileLevel.translateY,this.app.tileLevel.translateZ),console.log(e,t,i),console.log(-e*this.app.tileLevel.tapSize,-t*this.app.tileLevel.tapSize),this.reset(e,t,s,_,n.length);for(var r=0;r<n.length;r++)this.app.addMainTextButton(e,t+2*r*_,2*_,n[r].label,"fontSize"+_,this.app.popupMenuGroup.content,this.createDoItem(n[r],2*_+e,2*_+t+2*r*_,s,_));this.app.tileLevel.redrawAnchor(this.app.popupMenuGroup),this.app.tileLevel.startSlideTo(-e*this.app.tileLevel.tapSize,-t*this.app.tileLevel.tapSize,i,null)},e.prototype.showPopupSubMenu=function(e,t,i,s,_){console.log("showPopupSubMenu",_),this.reset(e,t,i,s,_.length);for(var n=0;n<_.length;n++)this.app.addMainTextButton(e,t+2*n*s,2*s,_[n].label,"fontSize"+s,this.app.popupSubMenuGroup.content,this.createDoSubItem(_[n],2*s+e,2*s+t+2*n*s,i,s));this.app.tileLevel.redrawAnchor(this.app.popupSubMenuGroup)},e.prototype.showPopupSubSubMenu=function(e,t,i,s,_){this.reset(e,t,i,s,_.length);for(var n=0;n<_.length;n++)this.app.addMainTextButton(e,t+2*n*s,2*s,_[n].label,"fontSize"+s,this.app.popupSubSubMenuGroup.content,this.createDoSubSubItem(_[n],2*s+e,2*s+t+2*n*s,i,s));this.app.tileLevel.redrawAnchor(this.app.popupSubSubMenuGroup)},e.prototype.closePopupMenu=function(){this.app.popupMenuGroup.content.length=0,this.app.tileLevel.redrawAnchor(this.app.popupMenuGroup)},e.prototype.closePopupSubMenu=function(){this.app.popupSubMenuGroup.content.length=0,this.app.tileLevel.redrawAnchor(this.app.popupSubMenuGroup)},e.prototype.closePopupSubSubMenu=function(){this.app.popupSubSubMenuGroup.content.length=0,this.app.tileLevel.redrawAnchor(this.app.popupSubSubMenuGroup)},e.prototype.createDoSubSubItem=function(e,t,i,s,_){var n=this;return function(){n.closePopupSubSubMenu(),n.closePopupSubMenu(),n.closePopupMenu(),e.action&&e.action()}},e.prototype.createDoSubItem=function(e,t,i,s,_){var n=this;return 0<e.subSubMenu.length?function(){n.showPopupSubSubMenu(t,i,s,_,e.subSubMenu)}:function(){n.closePopupSubMenu(),n.closePopupMenu(),e.action&&e.action()}},e.prototype.createDoItem=function(e,t,i,s,_){var n=this;return 0<e.subMenu.length?function(){n.showPopupSubMenu(t,i,s,_,e.subMenu)}:function(){n.closePopupMenu(),e.action&&e.action()}},e}(),ZvoogLang=function(){function e(){this._labels=[],this._labels.push({key:"undo",label:"Undo"}),this._labels.push({key:"redo",label:"Redo"}),this._labels.push({key:"menu",label:"..."}),this._labels.push({key:"layersMenuTitle",label:"Layers"})}return e.prototype.label=function(e){for(var t="?"+e,i=0;i<this._labels.length;i++)if(e==this._labels[i].key)return this._labels[i].label;return t},e}(),UndoRedoChangeTitle=function(){function e(e){this.props=e}return e.prototype.undo=function(e){e.currentSong.title=this.props.oldTitle},e.prototype.redo=function(e){e.currentSong.title=this.props.newTitle},e}(),UndoRedoChangeDescription=function(){function e(e){this.props=e}return e.prototype.undo=function(e){e.currentSong.description=this.props.oldDescription},e.prototype.redo=function(e){e.currentSong.description=this.props.newDescription},e}(),UndoRedoMoveTrack=function(){function e(e){this.props=e}return e.prototype.undo=function(e){e.currentSong.selectedTrack=this.props.oldTrackPosition,e.currentSong.selectedVoice=this.props.oldVoicePosition},e.prototype.redo=function(e){e.currentSong.selectedTrack=this.props.newTrackPosition,e.currentSong.selectedVoice=this.props.newVoicePosition},e}(),UndoRedoMoveVoice=function(){function e(e){this.props=e}return e.prototype.undo=function(e){e.currentSong.selectedTrack=this.props.oldTrackPosition,e.currentSong.selectedVoice=this.props.oldVoicePosition},e.prototype.redo=function(e){e.currentSong.selectedTrack=this.props.newTrackPosition,e.currentSong.selectedVoice=this.props.newVoicePosition},e}(),UndoRedoBunch=function(){function e(e){this.props=e}return e.prototype.undo=function(e){for(var t=0;t<this.props.commands.length;t++){var i=this.props.commands[this.props.commands.length-t-1],s=e.undoRedo.createUndoRedoAction(i);s&&s.undo(e)}},e.prototype.redo=function(e){for(var t=0;t<this.props.commands.length;t++){var i=this.props.commands[t],s=e.undoRedo.createUndoRedoAction(i);s&&s.redo(e)}},e}(),ZvoogUndoRedo=function(){function e(e){this.app=e}return e.prototype.addRedo=function(e){this.app.currentSong.macros.length=this.app.currentSong.macroPosition,this.app.currentSong.macros.push(e),this.doRedo()},e.prototype.doRedo=function(){if(0<this.app.currentSong.macros.length&&this.app.currentSong.macroPosition<this.app.currentSong.macros.length){var e=this.app.currentSong.macros[this.app.currentSong.macroPosition],t=this.app.undoRedo.createUndoRedoAction(e);return t?(t.redo(this.app),this.app.currentSong.macroPosition++,this.app.resetWholeProject(),e.point):(console.log("wrong redo",this.app.currentSong.macros[this.app.currentSong.macroPosition]),null)}return console.log("wrong redo position",this.app.currentSong.macroPosition,this.app.currentSong.macros.length),null},e.prototype.doUndo=function(){if(0<this.app.currentSong.macros.length&&0<this.app.currentSong.macroPosition&&this.app.currentSong.macroPosition<=this.app.currentSong.macros.length){var e=this.app.currentSong.macros[this.app.currentSong.macroPosition-1],t=this.app.undoRedo.createUndoRedoAction(e);return t?(t.undo(this.app),this.app.currentSong.macroPosition--,this.app.resetWholeProject(),e.point):(console.log("wrong undo",this.app.currentSong.macros[this.app.currentSong.macroPosition]),null)}return console.log("wrong undo position",this.app.currentSong.macroPosition,this.app.currentSong.macros.length),null},e.prototype.createUndoRedoAction=function(e){var t=null;if(e)switch(e.key){case undoRedoChangeProjectTitle:t=new UndoRedoChangeTitle(e.properties);break;case undoRedoChangeProjectDescription:t=new UndoRedoChangeDescription(e.properties);break;case undoRedoMoveVoice:t=new UndoRedoMoveVoice(e.properties);break;case undoRedoMoveTrack:t=new UndoRedoMoveTrack(e.properties);break;case undoRedoBunch:t=new UndoRedoBunch(e.properties)}else console.log("empty undo action");return t},e}(),ZvoogFilterSourceEmpty=function(){function e(){this.params=[],this.vals=[]}return e.prototype.prepare=function(e){this.base=e.createGain()},e.prototype.getInput=function(){return this.base},e.prototype.getOutput=function(){return this.base},e.prototype.getParams=function(){return this.params},e.prototype.getValues=function(){return this.vals},e.prototype.cancelSchedule=function(){},e.prototype.schedule=function(e,t,i){},e.prototype.busy=function(){return 0},e.prototype.label=function(){return"stub"},e}(),TestSong=function(){function e(){}return e.prototype.createRandomCurve=function(e){for(var t={duration:e,points:[]},i=0;i<e;){var s=384*(.5<Math.random()?.25:2),_={duration:s,velocity:Math.floor(127*Math.random())};t.points.push(_),i+=s}return t},e.prototype.createRandomLine=function(e){for(var t={segments:[]},i=0;i<e;){var s=Math.round(Math.random()*e);t.segments.push(this.createRandomCurve(s)),i+=s}return t},e.prototype.createRandomEffect=function(e){for(var t=new ZvoogFilterSourceEmpty,i=[],s=Math.round(5*Math.random()),_=0;_<s;_++)i.push(this.createRandomLine(e));return{plugin:t,parameters:i}},e.prototype.createRandomPitch=function(e){var t=48;return.5<Math.random()&&(t=96),.5<Math.random()&&(t=192),{duration:t,pitch:0<e?e+Math.floor(21*Math.random()-10):Math.floor(120*Math.random())}},e.prototype.createRandomName=function(){for(var e=["Red","Green","Magenta","White","Yellow","Black","Pink","Blue","Cyan","Silver"],t=1+Math.ceil(3*Math.random()),i="",s=0;s<t;s++)i=i+e[Math.floor(Math.random()*e.length)]+" ";return i},e.prototype.createRandomChord=function(e,t){var i={when:24*Math.floor(384*Math.random()*e/t/24),values:[],title:"",fretHint:[],text:""};.95<Math.random()&&(i.title="G"+Math.round(10*Math.random())),.95<Math.random()&&(i.title="Em"+Math.round(10*Math.random())),.95<Math.random()&&(i.title="A7"+Math.round(10*Math.random())),.95<Math.random()&&(i.text="Bla-bla-bla");for(var s=Math.round(2*Math.random())+1,_=0;_<s;_++){var n={envelope:[this.createRandomPitch(0)],stepHint:0,shiftHint:0,octaveHint:0};.9<Math.random()&&n.envelope.push(this.createRandomPitch(n.envelope[0].pitch)),i.values.push(n)}return i},e.prototype.createRandomChunk=function(e,t){for(var i={meter:{count:e,division:t},tempo:.8<Math.random()?120:100,chords:[],title:"/"+Math.round(1e3*Math.random()),clefHint:Math.round(3*Math.random()),keyHint:Math.round(22*Math.random()-11)},s=1+Math.round(2*Math.random()),_=0;_<s;_++)i.chords.push(this.createRandomChord(e,t));return i},e.prototype.createRandomVoice=function(e,t){for(var i={chunks:[],source:{plugin:new ZvoogFilterSourceEmpty,parameters:[]},effects:[],title:this.createRandomName()+"voice "},s=Math.round(5*Math.random()),_=0;_<s;_++)i.source.parameters.push(this.createRandomLine(e));for(var n=Math.round(3*Math.random()),_=0;_<n;_++)i.effects.push(this.createRandomEffect(e));for(var r=0;r<e;){var o=.9<Math.random()?3:4;i.chunks.push(this.createRandomChunk(o,4)),r+=384*o/4}return i},e.prototype.createRandomTrack=function(e,t){for(var i={voices:[],effects:[],title:this.createRandomName()+"track ",strings:[]},s=Math.round(3*Math.random()),_=0;_<s;_++)i.effects.push(this.createRandomEffect(e));for(var n=Math.round(3*Math.random()+1),_=0;_<n;_++)i.voices.push(this.createRandomVoice(e,_));return i},e.prototype.createKeyPattern=function(){for(var e=[],t=0;t<10;t++)e.push(3),e.push(2),e.push(1),e.push(2),e.push(1),e.push(1),e.push(2),e.push(1),e.push(2),e.push(1),e.push(2),e.push(1);return e},e.prototype.createRandomSchedule=function(){for(var e=50*Math.round(200*Math.random()+150),t=this.createRandomName()+"project",i={title:t,description:this.createRandomName()+"description",tracks:[],effects:[],macros:[{key:undoRedoBunch,point:{x:0,y:0,z:100},properties:{commands:[{key:undoRedoChangeProjectTitle,properties:{oldTitle:"old project title",newTitle:"Next title"},point:{x:0,y:0,z:100}},{key:undoRedoChangeProjectTitle,properties:{oldTitle:"Next title",newTitle:"Another title"},point:{x:0,y:0,z:100}},{key:undoRedoChangeProjectTitle,properties:{oldTitle:"Another title",newTitle:t},point:{x:0,y:0,z:100}}]}}],macroPosition:2,masterPosition:1,gridPattern:[{duration:24,power:3},{duration:24,power:0},{duration:24,power:0},{duration:24,power:0},{duration:24,power:1},{duration:24,power:0},{duration:24,power:0},{duration:24,power:0},{duration:24,power:2},{duration:24,power:0},{duration:24,power:0},{duration:24,power:0},{duration:24,power:1},{duration:24,power:0},{duration:24,power:0},{duration:24,power:0}],keyPattern:this.createKeyPattern(),horizontal:!0,locked:!1,selectedTrack:0,selectedVoice:0},s=Math.round(3*Math.random()),_=0;_<s;_++)i.effects.push(this.createRandomEffect(e));for(var n=Math.round(5*Math.random())+1,_=0;_<n;_++)i.tracks.push(this.createRandomTrack(e,_));var r=0,o=0;return 1<i.tracks.length&&(r=1),1<i.tracks[r].voices.length&&(o=1),i.selectedTrack=r,i.selectedVoice=o,i},e}();function duration2time(e,t){return 60/e/(384/(4*t))}function time2Duration(e,t){var i=60/t/96;return Math.round(e/i)}function duration384(e){return e.count*(384/e.division)}console.log("ZvoogEngine v1.52");var undoRedoChangeProjectTitle="changeProjectTitle",undoRedoChangeProjectDescription="changeProjectDescription",undoRedoMoveTrack="moveTrack",undoRedoMoveVoice="moveVoice",undoRedoBunch="bunch",ZvoogPlayer=function(){function e(){this.afterTime=.05,this.envelopes=[],this.nearZero=1e-6,this.instrumentKeyArray=[],this.instrumentNamesArray=[],this.wafratio=.5,this.drumKeyArray=[],this.drumNamesArray=[]}return e.prototype.waitGlobalVariable=function(e,t){var i;window[e]&&window[e]?t():(i=this,setTimeout(function(){i.waitGlobalVariable(e,t)},111))},e.prototype.zones=function(e){if(window[e]){for(var t=window[e],i=0;i<t.zones.length;i++)if(!t.zones[i].buffer)return null;return window[e]}return null},e.prototype.afterAdjust=function(e,t){if(window[e]){for(var i=window[e],s=!0,_=0;_<i.zones.length;_++)s=s&&!!i.zones[_].buffer;if(s)return void t()}var n=this;setTimeout(function(){n.afterAdjust(e,t)},111)},e.prototype.adjustPreset=function(e,t){for(var i=0;i<t.zones.length;i++)this.adjustZone(e,t.zones[i])},e.prototype.adjustAHDSR=function(e){if(e.ahdsr)if(0<e.ahdsr.length){e.ahdsrPoints=[];for(var t=0;t<e.ahdsr.length;t++)e.ahdsrPoints.push({duration:e.ahdsr[t].duration,volume:e.ahdsr[t].volume})}else e.ahdsrPoints=[{duration:3,volume:1},{duration:.5,volume:.75},{duration:1.5,volume:.5},{duration:3,volume:0}];else e.ahdsrPoints=[{duration:3600,volume:1}]},e.prototype.adjustZone=function(e,t){if(!t.buffer)if(t.delay=0,this.adjustAHDSR(t),t.sample){var i=atob(t.sample);t.buffer=e.createBuffer(1,i.length/2,t.sampleRate);for(var s=t.buffer.getChannelData(0),_=void 0,n=void 0,r=void 0,o=0;o<i.length/2;o++)(_=i.charCodeAt(2*o))<0&&(_=256+_),(n=i.charCodeAt(2*o+1))<0&&(n=256+n),32768<=(r=256*n+_)&&(r-=65536),s[o]=r/65536}else if(t.file){for(var l,a=t.file.length,f=new ArrayBuffer(a),h=new Uint8Array(f),i=atob(t.file),o=0;o<i.length;o++)l=i.charCodeAt(o),h[o]=l;e.decodeAudioData(f,function(e){t.buffer=e})}},e.prototype.numValue=function(e,t){return"number"==typeof e?e:t},e.prototype.noZeroVolume=function(e){return e>this.nearZero?e:this.nearZero},e.prototype.findZone=function(e,t){for(var i=e.zones.length-1;0<=i;i--){var s=e.zones[i];if(s.keyRangeLow<=t&&s.keyRangeHigh+1>=t)return s}return null},e.prototype.findEnvelope=function(e,t,i){for(var s=null,_=0;_<this.envelopes.length;_++){var n=this.envelopes[_];if(n.target==t&&e.currentTime>n.when+n.duration+.001){try{n.audioBufferSourceNode&&(n.audioBufferSourceNode.disconnect(),n.audioBufferSourceNode.stop(0),n.audioBufferSourceNode=null)}catch(e){}s=n;break}}return s||((s={base:e.createGain(),target:t,audioBufferSourceNode:null,when:0,duration:0,pitch:0,preset:i,cancel:function(){s&&s.when+s.duration>e.currentTime&&(s.base.gain.cancelScheduledValues(0),s.base.gain.setTargetAtTime(1e-5,e.currentTime,.1),s.when=e.currentTime+1e-5,s.duration=0)}}).base.gain.setValueAtTime(this.wafratio,0),s.base.connect(t),this.envelopes.push(s)),s},e.prototype.setupEnvelope=function(e,t,i,s,_,n){t.base.gain.setValueAtTime(this.noZeroVolume(0),e.currentTime);var r=n,o=i.ahdsrPoints;_<r+this.afterTime&&(r=_-this.afterTime),t.base.gain.cancelScheduledValues(s);var l=0,a=o[0].volume;t.base.gain.setValueAtTime(this.noZeroVolume(a*this.wafratio),s);for(var f=0;f<o.length;f++){if(l+o[f].duration>r){var h=a-(1-(o[f].duration+l-r)/o[f].duration)*(a-o[f].volume);t.base.gain.linearRampToValueAtTime(this.noZeroVolume(h*this.wafratio),s+r);break}l+=o[f].duration,a=o[f].volume,t.base.gain.linearRampToValueAtTime(this.noZeroVolume(a*this.wafratio),s+l)}l<r&&t.base.gain.linearRampToValueAtTime(this.noZeroVolume(a*this.wafratio),s+r),t.base.gain.linearRampToValueAtTime(this.noZeroVolume(0),s+r+this.afterTime)},e.prototype.calculateDuration=function(e,t){for(var i=0,s=0;s<t.length;s++)t[s].duration&&(i+=duration2time(e,t[s].duration));return i},e.prototype.queueWaveTable=function(e,t,i,s,_,n){"suspended"==e.state&&(console.log("audioContext.resume"),e.resume());var r=n[0].pitch,o=this.findZone(i,r);if(!o)return console.log("no zone for",r,"in",i),null;if(!o.buffer)return console.log("empty buffer",o),null;var l=this.calculateDuration(_,n);if(0<s&&s+l<e.currentTime)return console.log("skip"),null;var a=o.originalPitch-100*o.coarseTune-o.fineTune,f=+Math.pow(2,(100*r-a)/1200),h=s;h<e.currentTime&&(h=e.currentTime);var u=l+this.afterTime,d=!0;(o.loopStart<1||o.loopStart>=o.loopEnd)&&(d=!1),d||u>o.buffer.duration/f&&(u=o.buffer.duration/f);var p=this.findEnvelope(e,t,i);if(this.setupEnvelope(e,p,o,h,u,l),p.audioBufferSourceNode=e.createBufferSource(),p.audioBufferSourceNode.playbackRate.setValueAtTime(f,0),p.audioBufferSourceNode.playbackRate.setValueAtTime(f,h),1<n.length)for(var c=h,v=1;v<n.length;v++){var S=+Math.pow(2,(100*n[v].pitch-a)/1200);n[v-1].duration&&(c+=duration2time(_,n[v-1].duration),p.audioBufferSourceNode.playbackRate.linearRampToValueAtTime(S,c))}return p.audioBufferSourceNode.buffer=o.buffer,d?(p.audioBufferSourceNode.loop=!0,p.audioBufferSourceNode.loopStart=o.loopStart/o.sampleRate+o.delay,p.audioBufferSourceNode.loopEnd=o.loopEnd/o.sampleRate+o.delay):p.audioBufferSourceNode.loop=!1,p.audioBufferSourceNode.connect(p.base),p.audioBufferSourceNode.start(h,o.delay),p.audioBufferSourceNode.stop(h+u),p.when=h,p.duration=u,p.pitch=r,p.preset=i,p},e.prototype.cancelQueue=function(e){for(var t=0;t<this.envelopes.length;t++){var i=this.envelopes[t];i.base.gain.cancelScheduledValues(0),i.base.gain.setValueAtTime(this.nearZero,e.currentTime+.01),i.when=-1;try{i.audioBufferSourceNode&&i.audioBufferSourceNode.disconnect()}catch(e){console.log(e)}}},e.prototype.instrumentKeys=function(){return this.instrumentKeyArray.length||(this.instrumentKeyArray=["0000_JCLive_sf2_file","0000_Aspirin_sf2_file","0000_Chaos_sf2_file","0000_FluidR3_GM_sf2_file","0000_GeneralUserGS_sf2_file","0000_SBLive_sf2","0000_SoundBlasterOld_sf2","0001_FluidR3_GM_sf2_file","0001_GeneralUserGS_sf2_file","0002_GeneralUserGS_sf2_file","0003_GeneralUserGS_sf2_file","0010_Aspirin_sf2_file","0010_Chaos_sf2_file","0010_FluidR3_GM_sf2_file","0010_GeneralUserGS_sf2_file","0010_JCLive_sf2_file","0010_SBLive_sf2","0010_SoundBlasterOld_sf2","0011_Aspirin_sf2_file","0011_FluidR3_GM_sf2_file","0011_GeneralUserGS_sf2_file","0012_GeneralUserGS_sf2_file","0020_Aspirin_sf2_file","0020_Chaos_sf2_file","0020_FluidR3_GM_sf2_file","0020_GeneralUserGS_sf2_file","0020_JCLive_sf2_file","0020_SBLive_sf2","0020_SoundBlasterOld_sf2","0021_Aspirin_sf2_file","0021_GeneralUserGS_sf2_file","0022_Aspirin_sf2_file","0030_Aspirin_sf2_file","0030_Chaos_sf2_file","0030_FluidR3_GM_sf2_file","0030_GeneralUserGS_sf2_file","0030_JCLive_sf2_file","0030_SBLive_sf2","0030_SoundBlasterOld_sf2","0031_Aspirin_sf2_file","0031_FluidR3_GM_sf2_file","0031_GeneralUserGS_sf2_file","0031_SoundBlasterOld_sf2","0040_Aspirin_sf2_file","0040_Chaos_sf2_file","0040_FluidR3_GM_sf2_file","0040_GeneralUserGS_sf2_file","0040_JCLive_sf2_file","0040_SBLive_sf2","0040_SoundBlasterOld_sf2","0041_FluidR3_GM_sf2_file","0041_GeneralUserGS_sf2_file","0041_SoundBlasterOld_sf2","0042_GeneralUserGS_sf2_file","0043_GeneralUserGS_sf2_file","0044_GeneralUserGS_sf2_file","0045_GeneralUserGS_sf2_file","0046_GeneralUserGS_sf2_file","0050_Aspirin_sf2_file","0050_Chaos_sf2_file","0050_FluidR3_GM_sf2_file","0050_GeneralUserGS_sf2_file","0050_JCLive_sf2_file","0050_SBLive_sf2","0050_SoundBlasterOld_sf2","0051_FluidR3_GM_sf2_file","0051_GeneralUserGS_sf2_file","0052_GeneralUserGS_sf2_file","0053_GeneralUserGS_sf2_file","0054_GeneralUserGS_sf2_file","0060_Aspirin_sf2_file","0060_Chaos_sf2_file","0060_FluidR3_GM_sf2_file","0060_GeneralUserGS_sf2_file","0060_JCLive_sf2_file","0060_SBLive_sf2","0060_SoundBlasterOld_sf2","0061_Aspirin_sf2_file","0061_GeneralUserGS_sf2_file","0061_SoundBlasterOld_sf2","0062_GeneralUserGS_sf2_file","0070_Aspirin_sf2_file","0070_Chaos_sf2_file","0070_FluidR3_GM_sf2_file","0070_GeneralUserGS_sf2_file","0070_JCLive_sf2_file","0070_SBLive_sf2","0070_SoundBlasterOld_sf2","0071_GeneralUserGS_sf2_file","0080_Aspirin_sf2_file","0080_Chaos_sf2_file","0080_FluidR3_GM_sf2_file","0080_GeneralUserGS_sf2_file","0080_JCLive_sf2_file","0080_SBLive_sf2","0080_SoundBlasterOld_sf2","0081_FluidR3_GM_sf2_file","0081_GeneralUserGS_sf2_file","0081_SoundBlasterOld_sf2","0090_Aspirin_sf2_file","0090_Chaos_sf2_file","0090_FluidR3_GM_sf2_file","0090_GeneralUserGS_sf2_file","0090_JCLive_sf2_file","0090_SBLive_sf2","0090_SoundBlasterOld_sf2","0091_SoundBlasterOld_sf2","0100_Aspirin_sf2_file","0100_Chaos_sf2_file","0100_FluidR3_GM_sf2_file","0100_GeneralUserGS_sf2_file","0100_JCLive_sf2_file","0100_SBLive_sf2","0100_SoundBlasterOld_sf2","0101_GeneralUserGS_sf2_file","0101_SoundBlasterOld_sf2","0110_Aspirin_sf2_file","0110_Chaos_sf2_file","0110_FluidR3_GM_sf2_file","0110_GeneralUserGS_sf2_file","0110_JCLive_sf2_file","0110_SBLive_sf2","0110_SoundBlasterOld_sf2","0111_FluidR3_GM_sf2_file","0120_Aspirin_sf2_file","0120_Chaos_sf2_file","0120_FluidR3_GM_sf2_file","0120_GeneralUserGS_sf2_file","0120_JCLive_sf2_file","0120_SBLive_sf2","0120_SoundBlasterOld_sf2","0121_FluidR3_GM_sf2_file","0121_GeneralUserGS_sf2_file","0130_Aspirin_sf2_file","0130_Chaos_sf2_file","0130_FluidR3_GM_sf2_file","0130_GeneralUserGS_sf2_file","0130_JCLive_sf2_file","0130_SBLive_sf2","0130_SoundBlasterOld_sf2","0131_FluidR3_GM_sf2_file","0140_Aspirin_sf2_file","0140_Chaos_sf2_file","0140_FluidR3_GM_sf2_file","0140_GeneralUserGS_sf2_file","0140_JCLive_sf2_file","0140_SBLive_sf2","0140_SoundBlasterOld_sf2","0141_FluidR3_GM_sf2_file","0141_GeneralUserGS_sf2_file","0142_GeneralUserGS_sf2_file","0143_GeneralUserGS_sf2_file","0150_Aspirin_sf2_file","0150_Chaos_sf2_file","0150_FluidR3_GM_sf2_file","0150_GeneralUserGS_sf2_file","0150_JCLive_sf2_file","0150_SBLive_sf2","0150_SoundBlasterOld_sf2","0151_FluidR3_GM_sf2_file","0160_Aspirin_sf2_file","0160_Chaos_sf2_file","0160_FluidR3_GM_sf2_file","0160_GeneralUserGS_sf2_file","0160_JCLive_sf2_file","0160_SBLive_sf2","0160_SoundBlasterOld_sf2","0161_Aspirin_sf2_file","0161_FluidR3_GM_sf2_file","0161_SoundBlasterOld_sf2","0170_Aspirin_sf2_file","0170_Chaos_sf2_file","0170_FluidR3_GM_sf2_file","0170_GeneralUserGS_sf2_file","0170_JCLive_sf2_file","0170_SBLive_sf2","0170_SoundBlasterOld_sf2","0171_FluidR3_GM_sf2_file","0171_GeneralUserGS_sf2_file","0172_FluidR3_GM_sf2_file","0180_Aspirin_sf2_file","0180_Chaos_sf2_file","0180_FluidR3_GM_sf2_file","0180_GeneralUserGS_sf2_file","0180_JCLive_sf2_file","0180_SBLive_sf2","0180_SoundBlasterOld_sf2","0181_Aspirin_sf2_file","0181_GeneralUserGS_sf2_file","0181_SoundBlasterOld_sf2","0190_Aspirin_sf2_file","0190_Chaos_sf2_file","0190_FluidR3_GM_sf2_file","0190_GeneralUserGS_sf2_file","0190_JCLive_sf2_file","0190_SBLive_sf2","0190_SoundBlasterOld_sf2","0191_Aspirin_sf2_file","0191_GeneralUserGS_sf2_file","0191_SoundBlasterOld_sf2","0200_Aspirin_sf2_file","0200_Chaos_sf2_file","0200_FluidR3_GM_sf2_file","0200_GeneralUserGS_sf2_file","0200_JCLive_sf2_file","0200_SBLive_sf2","0200_SoundBlasterOld_sf2","0201_Aspirin_sf2_file","0201_FluidR3_GM_sf2_file","0201_GeneralUserGS_sf2_file","0201_SoundBlasterOld_sf2","0210_Aspirin_sf2_file","0210_Chaos_sf2_file","0210_FluidR3_GM_sf2_file","0210_GeneralUserGS_sf2_file","0210_JCLive_sf2_file","0210_SBLive_sf2","0210_SoundBlasterOld_sf2","0211_Aspirin_sf2_file","0211_FluidR3_GM_sf2_file","0211_GeneralUserGS_sf2_file","0211_SoundBlasterOld_sf2","0212_GeneralUserGS_sf2_file","0220_Aspirin_sf2_file","0220_Chaos_sf2_file","0220_FluidR3_GM_sf2_file","0220_GeneralUserGS_sf2_file","0220_JCLive_sf2_file","0220_SBLive_sf2","0220_SoundBlasterOld_sf2","0221_FluidR3_GM_sf2_file","0230_Aspirin_sf2_file","0230_Chaos_sf2_file","0230_FluidR3_GM_sf2_file","0230_GeneralUserGS_sf2_file","0230_JCLive_sf2_file","0230_SBLive_sf2","0230_SoundBlasterOld_sf2","0231_FluidR3_GM_sf2_file","0231_GeneralUserGS_sf2_file","0231_JCLive_sf2_file","0231_SoundBlasterOld_sf2","0232_FluidR3_GM_sf2_file","0233_FluidR3_GM_sf2_file","0240_Aspirin_sf2_file","0240_Chaos_sf2_file","0240_FluidR3_GM_sf2_file","0240_GeneralUserGS_sf2_file","0240_JCLive_sf2_file","0240_LK_Godin_Nylon_SF2_file","0240_SBLive_sf2","0240_SoundBlasterOld_sf2","0241_GeneralUserGS_sf2_file","0241_JCLive_sf2_file","0242_JCLive_sf2_file","0243_JCLive_sf2_file","0253_Acoustic_Guitar_sf2_file","0250_Aspirin_sf2_file","0250_Chaos_sf2_file","0250_FluidR3_GM_sf2_file","0250_GeneralUserGS_sf2_file","0250_JCLive_sf2_file","0250_LK_AcousticSteel_SF2_file","0250_SBLive_sf2","0250_SoundBlasterOld_sf2","0251_Acoustic_Guitar_sf2_file","0251_GeneralUserGS_sf2_file","0252_Acoustic_Guitar_sf2_file","0252_GeneralUserGS_sf2_file","0253_Acoustic_Guitar_sf2_file","0253_GeneralUserGS_sf2_file","0254_Acoustic_Guitar_sf2_file","0254_GeneralUserGS_sf2_file","0255_GeneralUserGS_sf2_file","0260_Aspirin_sf2_file","0260_Chaos_sf2_file","0260_FluidR3_GM_sf2_file","0260_GeneralUserGS_sf2_file","0260_JCLive_sf2_file","0260_SBLive_sf2","0260_SoundBlasterOld_sf2","0260_Stratocaster_sf2_file","0261_GeneralUserGS_sf2_file","0261_SoundBlasterOld_sf2","0261_Stratocaster_sf2_file","0262_Stratocaster_sf2_file","0270_Aspirin_sf2_file","0270_Chaos_sf2_file","0270_FluidR3_GM_sf2_file","0270_GeneralUserGS_sf2_file","0270_Gibson_Les_Paul_sf2_file","0270_JCLive_sf2_file","0270_SBAWE32_sf2_file","0270_SBLive_sf2","0270_SoundBlasterOld_sf2","0270_Stratocaster_sf2_file","0271_GeneralUserGS_sf2_file","0271_Stratocaster_sf2_file","0272_Stratocaster_sf2_file","0280_Aspirin_sf2_file","0280_Chaos_sf2_file","0280_FluidR3_GM_sf2_file","0280_GeneralUserGS_sf2_file","0280_JCLive_sf2_file","0280_LesPaul_sf2","0280_LesPaul_sf2_file","0280_SBAWE32_sf2_file","0280_SBLive_sf2","0280_SoundBlasterOld_sf2","0281_Aspirin_sf2_file","0281_FluidR3_GM_sf2_file","0281_GeneralUserGS_sf2_file","0282_FluidR3_GM_sf2_file","0282_GeneralUserGS_sf2_file","0283_GeneralUserGS_sf2_file","0290_Aspirin_sf2_file","0290_Chaos_sf2_file","0290_FluidR3_GM_sf2_file","0290_GeneralUserGS_sf2_file","0290_JCLive_sf2_file","0290_LesPaul_sf2","0290_LesPaul_sf2_file","0290_SBAWE32_sf2_file","0290_SBLive_sf2","0290_SoundBlasterOld_sf2","0291_Aspirin_sf2_file","0291_LesPaul_sf2","0291_LesPaul_sf2_file","0291_SBAWE32_sf2_file","0291_SoundBlasterOld_sf2","0292_Aspirin_sf2_file","0292_LesPaul_sf2","0292_LesPaul_sf2_file","0300_Aspirin_sf2_file","0300_Chaos_sf2_file","0300_FluidR3_GM_sf2_file","0300_GeneralUserGS_sf2_file","0300_JCLive_sf2_file","0300_LesPaul_sf2","0300_LesPaul_sf2_file","0300_SBAWE32_sf2_file","0300_SBLive_sf2","0300_SoundBlasterOld_sf2","0301_Aspirin_sf2_file","0301_FluidR3_GM_sf2_file","0301_GeneralUserGS_sf2_file","0301_JCLive_sf2_file","0301_LesPaul_sf2","0301_LesPaul_sf2_file","0302_Aspirin_sf2_file","0302_GeneralUserGS_sf2_file","0302_JCLive_sf2_file","0303_Aspirin_sf2_file","0304_Aspirin_sf2_file","0310_Aspirin_sf2_file","0310_Chaos_sf2_file","0310_FluidR3_GM_sf2_file","0310_GeneralUserGS_sf2_file","0310_JCLive_sf2_file","0310_LesPaul_sf2","0310_LesPaul_sf2_file","0310_SBAWE32_sf2_file","0310_SBLive_sf2","0310_SoundBlasterOld_sf2","0311_FluidR3_GM_sf2_file","0311_GeneralUserGS_sf2_file","0320_Aspirin_sf2_file","0320_Chaos_sf2_file","0320_FluidR3_GM_sf2_file","0320_GeneralUserGS_sf2_file","0320_JCLive_sf2_file","0320_SBLive_sf2","0320_SoundBlasterOld_sf2","0321_GeneralUserGS_sf2_file","0322_GeneralUserGS_sf2_file","0330_Aspirin_sf2_file","0330_Chaos_sf2_file","0330_FluidR3_GM_sf2_file","0330_GeneralUserGS_sf2_file","0330_JCLive_sf2_file","0330_SBLive_sf2","0330_SoundBlasterOld_sf2","0331_GeneralUserGS_sf2_file","0332_GeneralUserGS_sf2_file","0340_Aspirin_sf2_file","0340_Chaos_sf2_file","0340_FluidR3_GM_sf2_file","0340_GeneralUserGS_sf2_file","0340_JCLive_sf2_file","0340_SBLive_sf2","0340_SoundBlasterOld_sf2","0341_Aspirin_sf2_file","0341_GeneralUserGS_sf2_file","0350_Aspirin_sf2_file","0350_Chaos_sf2_file","0350_FluidR3_GM_sf2_file","0350_GeneralUserGS_sf2_file","0350_JCLive_sf2_file","0350_SBLive_sf2","0350_SoundBlasterOld_sf2","0351_GeneralUserGS_sf2_file","0360_Aspirin_sf2_file","0360_Chaos_sf2_file","0360_FluidR3_GM_sf2_file","0360_GeneralUserGS_sf2_file","0360_JCLive_sf2_file","0360_SBLive_sf2","0360_SoundBlasterOld_sf2","0361_GeneralUserGS_sf2_file","0370_Aspirin_sf2_file","0370_Chaos_sf2_file","0370_FluidR3_GM_sf2_file","0370_GeneralUserGS_sf2_file","0370_JCLive_sf2_file","0370_SBLive_sf2","0370_SoundBlasterOld_sf2","0371_GeneralUserGS_sf2_file","0372_GeneralUserGS_sf2_file","0380_Aspirin_sf2_file","0380_Chaos_sf2_file","0380_FluidR3_GM_sf2_file","0380_GeneralUserGS_sf2_file","0380_JCLive_sf2_file","0380_SBLive_sf2","0380_SoundBlasterOld_sf2","0381_FluidR3_GM_sf2_file","0381_GeneralUserGS_sf2_file","0382_FluidR3_GM_sf2_file","0382_GeneralUserGS_sf2_file","0383_GeneralUserGS_sf2_file","0384_GeneralUserGS_sf2_file","0385_GeneralUserGS_sf2_file","0386_GeneralUserGS_sf2_file","0387_GeneralUserGS_sf2_file","0390_Aspirin_sf2_file","0390_Chaos_sf2_file","0390_FluidR3_GM_sf2_file","0390_GeneralUserGS_sf2_file","0390_JCLive_sf2_file","0390_SBLive_sf2","0390_SoundBlasterOld_sf2","0391_FluidR3_GM_sf2_file","0391_GeneralUserGS_sf2_file","0391_SoundBlasterOld_sf2","0392_FluidR3_GM_sf2_file","0392_GeneralUserGS_sf2_file","0393_GeneralUserGS_sf2_file","0400_Aspirin_sf2_file","0400_Chaos_sf2_file","0400_FluidR3_GM_sf2_file","0400_GeneralUserGS_sf2_file","0400_JCLive_sf2_file","0400_SBLive_sf2","0400_SoundBlasterOld_sf2","0401_Aspirin_sf2_file","0401_FluidR3_GM_sf2_file","0401_GeneralUserGS_sf2_file","0402_GeneralUserGS_sf2_file","0410_Aspirin_sf2_file","0410_Chaos_sf2_file","0410_FluidR3_GM_sf2_file","0410_GeneralUserGS_sf2_file","0410_JCLive_sf2_file","0410_SBLive_sf2","0410_SoundBlasterOld_sf2","0411_FluidR3_GM_sf2_file","0420_Aspirin_sf2_file","0420_Chaos_sf2_file","0420_FluidR3_GM_sf2_file","0420_GeneralUserGS_sf2_file","0420_JCLive_sf2_file","0420_SBLive_sf2","0420_SoundBlasterOld_sf2","0421_FluidR3_GM_sf2_file","0421_GeneralUserGS_sf2_file","0430_Aspirin_sf2_file","0430_Chaos_sf2_file","0430_FluidR3_GM_sf2_file","0430_GeneralUserGS_sf2_file","0430_JCLive_sf2_file","0430_SBLive_sf2","0430_SoundBlasterOld_sf2","0431_FluidR3_GM_sf2_file","0440_Aspirin_sf2_file","0440_Chaos_sf2_file","0440_FluidR3_GM_sf2_file","0440_GeneralUserGS_sf2_file","0440_JCLive_sf2_file","0440_SBLive_sf2","0440_SoundBlasterOld_sf2","0441_GeneralUserGS_sf2_file","0442_GeneralUserGS_sf2_file","0450_Aspirin_sf2_file","0450_Chaos_sf2_file","0450_FluidR3_GM_sf2_file","0450_GeneralUserGS_sf2_file","0450_JCLive_sf2_file","0450_SBLive_sf2","0450_SoundBlasterOld_sf2","0451_FluidR3_GM_sf2_file","0460_Aspirin_sf2_file","0460_Chaos_sf2_file","0460_FluidR3_GM_sf2_file","0460_GeneralUserGS_sf2_file","0460_JCLive_sf2_file","0460_SBLive_sf2","0460_SoundBlasterOld_sf2","0461_FluidR3_GM_sf2_file","0470_Aspirin_sf2_file","0470_Chaos_sf2_file","0470_FluidR3_GM_sf2_file","0470_GeneralUserGS_sf2_file","0470_JCLive_sf2_file","0470_SBLive_sf2","0470_SoundBlasterOld_sf2","0471_FluidR3_GM_sf2_file","0471_GeneralUserGS_sf2_file","0480_Aspirin_sf2_file","0480_Chaos_sf2_file","0480_FluidR3_GM_sf2_file","0480_GeneralUserGS_sf2_file","0480_JCLive_sf2_file","0480_SBLive_sf2","0480_SoundBlasterOld_sf2","04810_GeneralUserGS_sf2_file","04811_GeneralUserGS_sf2_file","04812_GeneralUserGS_sf2_file","04813_GeneralUserGS_sf2_file","04814_GeneralUserGS_sf2_file","04815_GeneralUserGS_sf2_file","04816_GeneralUserGS_sf2_file","04817_GeneralUserGS_sf2_file","0481_Aspirin_sf2_file","0481_FluidR3_GM_sf2_file","0481_GeneralUserGS_sf2_file","0482_Aspirin_sf2_file","0482_GeneralUserGS_sf2_file","0483_GeneralUserGS_sf2_file","0484_GeneralUserGS_sf2_file","0485_GeneralUserGS_sf2_file","0486_GeneralUserGS_sf2_file","0487_GeneralUserGS_sf2_file","0488_GeneralUserGS_sf2_file","0489_GeneralUserGS_sf2_file","0490_Aspirin_sf2_file","0490_Chaos_sf2_file","0490_FluidR3_GM_sf2_file","0490_GeneralUserGS_sf2_file","0490_JCLive_sf2_file","0490_SBLive_sf2","0490_SoundBlasterOld_sf2","0491_GeneralUserGS_sf2_file","0492_GeneralUserGS_sf2_file","0500_Aspirin_sf2_file","0500_Chaos_sf2_file","0500_FluidR3_GM_sf2_file","0500_GeneralUserGS_sf2_file","0500_JCLive_sf2_file","0500_SBLive_sf2","0500_SoundBlasterOld_sf2","0501_FluidR3_GM_sf2_file","0501_GeneralUserGS_sf2_file","0502_FluidR3_GM_sf2_file","0502_GeneralUserGS_sf2_file","0503_FluidR3_GM_sf2_file","0504_FluidR3_GM_sf2_file","0505_FluidR3_GM_sf2_file","0510_Aspirin_sf2_file","0510_Chaos_sf2_file","0510_FluidR3_GM_sf2_file","0510_GeneralUserGS_sf2_file","0510_JCLive_sf2_file","0510_SBLive_sf2","0510_SoundBlasterOld_sf2","0511_GeneralUserGS_sf2_file","0511_SoundBlasterOld_sf2","0520_Aspirin_sf2_file","0520_Chaos_sf2_file","0520_FluidR3_GM_sf2_file","0520_GeneralUserGS_sf2_file","0520_JCLive_sf2_file","0520_SBLive_sf2","0520_Soul_Ahhs_sf2_file","0520_SoundBlasterOld_sf2","0521_FluidR3_GM_sf2_file","0521_Soul_Ahhs_sf2_file","0521_SoundBlasterOld_sf2","0522_Soul_Ahhs_sf2_file","0530_Aspirin_sf2_file","0530_Chaos_sf2_file","0530_FluidR3_GM_sf2_file","0530_GeneralUserGS_sf2_file","0530_JCLive_sf2_file","0530_SBLive_sf2","0530_Soul_Ahhs_sf2_file","0530_SoundBlasterOld_sf2","0531_FluidR3_GM_sf2_file","0531_GeneralUserGS_sf2_file","0531_JCLive_sf2_file","0531_SoundBlasterOld_sf2","0540_Aspirin_sf2_file","0540_Chaos_sf2_file","0540_FluidR3_GM_sf2_file","0540_GeneralUserGS_sf2_file","0540_JCLive_sf2_file","0540_SBLive_sf2","0540_SoundBlasterOld_sf2","0541_FluidR3_GM_sf2_file","0550_Aspirin_sf2_file","0550_Chaos_sf2_file","0550_FluidR3_GM_sf2_file","0550_GeneralUserGS_sf2_file","0550_JCLive_sf2_file","0550_SBLive_sf2","0550_SoundBlasterOld_sf2","0551_Aspirin_sf2_file","0551_FluidR3_GM_sf2_file","0560_Aspirin_sf2_file","0560_Chaos_sf2_file","0560_FluidR3_GM_sf2_file","0560_GeneralUserGS_sf2_file","0560_JCLive_sf2_file","0560_SBLive_sf2","0560_SoundBlasterOld_sf2","0570_Aspirin_sf2_file","0570_Chaos_sf2_file","0570_FluidR3_GM_sf2_file","0570_GeneralUserGS_sf2_file","0570_JCLive_sf2_file","0570_SBLive_sf2","0570_SoundBlasterOld_sf2","0571_GeneralUserGS_sf2_file","0580_Aspirin_sf2_file","0580_Chaos_sf2_file","0580_FluidR3_GM_sf2_file","0580_GeneralUserGS_sf2_file","0580_JCLive_sf2_file","0580_SBLive_sf2","0580_SoundBlasterOld_sf2","0581_GeneralUserGS_sf2_file","0590_Aspirin_sf2_file","0590_Chaos_sf2_file","0590_FluidR3_GM_sf2_file","0590_GeneralUserGS_sf2_file","0590_JCLive_sf2_file","0590_SBLive_sf2","0590_SoundBlasterOld_sf2","0591_GeneralUserGS_sf2_file","0600_Aspirin_sf2_file","0600_Chaos_sf2_file","0600_FluidR3_GM_sf2_file","0600_GeneralUserGS_sf2_file","0600_JCLive_sf2_file","0600_SBLive_sf2","0600_SoundBlasterOld_sf2","0601_FluidR3_GM_sf2_file","0601_GeneralUserGS_sf2_file","0602_GeneralUserGS_sf2_file","0603_GeneralUserGS_sf2_file","0610_Aspirin_sf2_file","0610_Chaos_sf2_file","0610_FluidR3_GM_sf2_file","0610_GeneralUserGS_sf2_file","0610_JCLive_sf2_file","0610_SBLive_sf2","0610_SoundBlasterOld_sf2","0611_GeneralUserGS_sf2_file","0612_GeneralUserGS_sf2_file","0613_GeneralUserGS_sf2_file","0614_GeneralUserGS_sf2_file","0615_GeneralUserGS_sf2_file","0620_Aspirin_sf2_file","0620_Chaos_sf2_file","0620_FluidR3_GM_sf2_file","0620_GeneralUserGS_sf2_file","0620_JCLive_sf2_file","0620_SBLive_sf2","0620_SoundBlasterOld_sf2","0621_Aspirin_sf2_file","0621_FluidR3_GM_sf2_file","0621_GeneralUserGS_sf2_file","0622_FluidR3_GM_sf2_file","0622_GeneralUserGS_sf2_file","0630_Aspirin_sf2_file","0630_Chaos_sf2_file","0630_FluidR3_GM_sf2_file","0630_GeneralUserGS_sf2_file","0630_JCLive_sf2_file","0630_SBLive_sf2","0630_SoundBlasterOld_sf2","0631_Aspirin_sf2_file","0631_FluidR3_GM_sf2_file","0631_GeneralUserGS_sf2_file","0632_FluidR3_GM_sf2_file","0633_FluidR3_GM_sf2_file","0640_Aspirin_sf2_file","0640_Chaos_sf2_file","0640_FluidR3_GM_sf2_file","0640_GeneralUserGS_sf2_file","0640_JCLive_sf2_file","0640_SBLive_sf2","0640_SoundBlasterOld_sf2","0641_FluidR3_GM_sf2_file","0650_Aspirin_sf2_file","0650_Chaos_sf2_file","0650_FluidR3_GM_sf2_file","0650_GeneralUserGS_sf2_file","0650_JCLive_sf2_file","0650_SBLive_sf2","0650_SoundBlasterOld_sf2","0651_Aspirin_sf2_file","0651_FluidR3_GM_sf2_file","0660_Aspirin_sf2_file","0660_Chaos_sf2_file","0660_FluidR3_GM_sf2_file","0660_GeneralUserGS_sf2_file","0660_JCLive_sf2_file","0660_SBLive_sf2","0660_SoundBlasterOld_sf2","0661_FluidR3_GM_sf2_file","0661_GeneralUserGS_sf2_file","0670_Aspirin_sf2_file","0670_Chaos_sf2_file","0670_FluidR3_GM_sf2_file","0670_GeneralUserGS_sf2_file","0670_JCLive_sf2_file","0670_SBLive_sf2","0670_SoundBlasterOld_sf2","0671_FluidR3_GM_sf2_file","0680_Aspirin_sf2_file","0680_Chaos_sf2_file","0680_FluidR3_GM_sf2_file","0680_GeneralUserGS_sf2_file","0680_JCLive_sf2_file","0680_SBLive_sf2","0680_SoundBlasterOld_sf2","0681_FluidR3_GM_sf2_file","0690_Aspirin_sf2_file","0690_Chaos_sf2_file","0690_FluidR3_GM_sf2_file","0690_GeneralUserGS_sf2_file","0690_JCLive_sf2_file","0690_SBLive_sf2","0690_SoundBlasterOld_sf2","0691_FluidR3_GM_sf2_file","0700_Aspirin_sf2_file","0700_Chaos_sf2_file","0700_FluidR3_GM_sf2_file","0700_GeneralUserGS_sf2_file","0700_JCLive_sf2_file","0700_SBLive_sf2","0700_SoundBlasterOld_sf2","0701_FluidR3_GM_sf2_file","0701_GeneralUserGS_sf2_file","0710_Aspirin_sf2_file","0710_Chaos_sf2_file","0710_FluidR3_GM_sf2_file","0710_GeneralUserGS_sf2_file","0710_JCLive_sf2_file","0710_SBLive_sf2","0710_SoundBlasterOld_sf2","0711_FluidR3_GM_sf2_file","0720_Aspirin_sf2_file","0720_Chaos_sf2_file","0720_FluidR3_GM_sf2_file","0720_GeneralUserGS_sf2_file","0720_JCLive_sf2_file","0720_SBLive_sf2","0720_SoundBlasterOld_sf2","0721_FluidR3_GM_sf2_file","0721_SoundBlasterOld_sf2","0730_Aspirin_sf2_file","0730_Chaos_sf2_file","0730_FluidR3_GM_sf2_file","0730_GeneralUserGS_sf2_file","0730_JCLive_sf2_file","0730_SBLive_sf2","0730_SoundBlasterOld_sf2","0731_Aspirin_sf2_file","0731_FluidR3_GM_sf2_file","0731_SoundBlasterOld_sf2","0740_Aspirin_sf2_file","0740_Chaos_sf2_file","0740_FluidR3_GM_sf2_file","0740_GeneralUserGS_sf2_file","0740_JCLive_sf2_file","0740_SBLive_sf2","0740_SoundBlasterOld_sf2","0741_GeneralUserGS_sf2_file","0750_Aspirin_sf2_file","0750_Chaos_sf2_file","0750_FluidR3_GM_sf2_file","0750_GeneralUserGS_sf2_file","0750_JCLive_sf2_file","0750_SBLive_sf2","0750_SoundBlasterOld_sf2","0751_Aspirin_sf2_file","0751_FluidR3_GM_sf2_file","0751_GeneralUserGS_sf2_file","0751_SoundBlasterOld_sf2","0760_Aspirin_sf2_file","0760_Chaos_sf2_file","0760_FluidR3_GM_sf2_file","0760_GeneralUserGS_sf2_file","0760_JCLive_sf2_file","0760_SBLive_sf2","0760_SoundBlasterOld_sf2","0761_FluidR3_GM_sf2_file","0761_GeneralUserGS_sf2_file","0761_SoundBlasterOld_sf2","0762_GeneralUserGS_sf2_file","0770_Aspirin_sf2_file","0770_Chaos_sf2_file","0770_FluidR3_GM_sf2_file","0770_GeneralUserGS_sf2_file","0770_JCLive_sf2_file","0770_SBLive_sf2","0770_SoundBlasterOld_sf2","0771_FluidR3_GM_sf2_file","0771_GeneralUserGS_sf2_file","0772_GeneralUserGS_sf2_file","0780_Aspirin_sf2_file","0780_Chaos_sf2_file","0780_FluidR3_GM_sf2_file","0780_GeneralUserGS_sf2_file","0780_JCLive_sf2_file","0780_SBLive_sf2","0780_SoundBlasterOld_sf2","0781_GeneralUserGS_sf2_file","0790_Aspirin_sf2_file","0790_Chaos_sf2_file","0790_FluidR3_GM_sf2_file","0790_GeneralUserGS_sf2_file","0790_JCLive_sf2_file","0790_SBLive_sf2","0790_SoundBlasterOld_sf2","0791_GeneralUserGS_sf2_file","0800_Aspirin_sf2_file","0800_Chaos_sf2_file","0800_FluidR3_GM_sf2_file","0800_GeneralUserGS_sf2_file","0800_JCLive_sf2_file","0800_SBLive_sf2","0800_SoundBlasterOld_sf2","0801_FluidR3_GM_sf2_file","0801_GeneralUserGS_sf2_file","0810_Aspirin_sf2_file","0810_Chaos_sf2_file","0810_FluidR3_GM_sf2_file","0810_GeneralUserGS_sf2_file","0810_JCLive_sf2_file","0810_SBLive_sf2","0810_SoundBlasterOld_sf2","0811_Aspirin_sf2_file","0811_GeneralUserGS_sf2_file","0811_SoundBlasterOld_sf2","0820_Aspirin_sf2_file","0820_Chaos_sf2_file","0820_FluidR3_GM_sf2_file","0820_GeneralUserGS_sf2_file","0820_JCLive_sf2_file","0820_SBLive_sf2","0820_SoundBlasterOld_sf2","0821_FluidR3_GM_sf2_file","0821_GeneralUserGS_sf2_file","0821_SoundBlasterOld_sf2","0822_GeneralUserGS_sf2_file","0823_GeneralUserGS_sf2_file","0830_Aspirin_sf2_file","0830_Chaos_sf2_file","0830_FluidR3_GM_sf2_file","0830_GeneralUserGS_sf2_file","0830_JCLive_sf2_file","0830_SBLive_sf2","0830_SoundBlasterOld_sf2","0831_FluidR3_GM_sf2_file","0831_GeneralUserGS_sf2_file","0831_SoundBlasterOld_sf2","0840_Aspirin_sf2_file","0840_Chaos_sf2_file","0840_FluidR3_GM_sf2_file","0840_GeneralUserGS_sf2_file","0840_JCLive_sf2_file","0840_SBLive_sf2","0840_SoundBlasterOld_sf2","0841_Aspirin_sf2_file","0841_Chaos_sf2_file","0841_FluidR3_GM_sf2_file","0841_GeneralUserGS_sf2_file","0841_JCLive_sf2_file","0841_SoundBlasterOld_sf2","0842_FluidR3_GM_sf2_file","0850_Aspirin_sf2_file","0850_Chaos_sf2_file","0850_FluidR3_GM_sf2_file","0850_GeneralUserGS_sf2_file","0850_JCLive_sf2_file","0850_SBLive_sf2","0850_SoundBlasterOld_sf2","0851_FluidR3_GM_sf2_file","0851_GeneralUserGS_sf2_file","0851_JCLive_sf2_file","0851_SoundBlasterOld_sf2","0860_Aspirin_sf2_file","0860_Chaos_sf2_file","0860_FluidR3_GM_sf2_file","0860_GeneralUserGS_sf2_file","0860_JCLive_sf2_file","0860_SBLive_sf2","0860_SoundBlasterOld_sf2","0861_Aspirin_sf2_file","0861_FluidR3_GM_sf2_file","0861_SoundBlasterOld_sf2","0870_Aspirin_sf2_file","0870_Chaos_sf2_file","0870_FluidR3_GM_sf2_file","0870_GeneralUserGS_sf2_file","0870_JCLive_sf2_file","0870_SBLive_sf2","0870_SoundBlasterOld_sf2","0871_GeneralUserGS_sf2_file","0872_GeneralUserGS_sf2_file","0873_GeneralUserGS_sf2_file","0880_Aspirin_sf2_file","0880_Chaos_sf2_file","0880_FluidR3_GM_sf2_file","0880_GeneralUserGS_sf2_file","0880_JCLive_sf2_file","0880_SBLive_sf2","0880_SoundBlasterOld_sf2","0881_Aspirin_sf2_file","0881_FluidR3_GM_sf2_file","0881_GeneralUserGS_sf2_file","0881_SoundBlasterOld_sf2","0882_Aspirin_sf2_file","0882_FluidR3_GM_sf2_file","0882_GeneralUserGS_sf2_file","0883_GeneralUserGS_sf2_file","0884_GeneralUserGS_sf2_file","0885_GeneralUserGS_sf2_file","0886_GeneralUserGS_sf2_file","0887_GeneralUserGS_sf2_file","0888_GeneralUserGS_sf2_file","0889_GeneralUserGS_sf2_file","0890_Aspirin_sf2_file","0890_Chaos_sf2_file","0890_FluidR3_GM_sf2_file","0890_GeneralUserGS_sf2_file","0890_JCLive_sf2_file","0890_SBLive_sf2","0890_SoundBlasterOld_sf2","0891_Aspirin_sf2_file","0891_FluidR3_GM_sf2_file","0891_GeneralUserGS_sf2_file","0900_Aspirin_sf2_file","0900_Chaos_sf2_file","0900_FluidR3_GM_sf2_file","0900_GeneralUserGS_sf2_file","0900_JCLive_sf2_file","0900_SBLive_sf2","0900_SoundBlasterOld_sf2","0901_Aspirin_sf2_file","0901_FluidR3_GM_sf2_file","0901_GeneralUserGS_sf2_file","0901_SoundBlasterOld_sf2","0910_Aspirin_sf2_file","0910_Chaos_sf2_file","0910_FluidR3_GM_sf2_file","0910_GeneralUserGS_sf2_file","0910_JCLive_sf2_file","0910_SBLive_sf2","0910_SoundBlasterOld_sf2","0911_Aspirin_sf2_file","0911_GeneralUserGS_sf2_file","0911_JCLive_sf2_file","0911_SoundBlasterOld_sf2","0920_Aspirin_sf2_file","0920_Chaos_sf2_file","0920_FluidR3_GM_sf2_file","0920_GeneralUserGS_sf2_file","0920_JCLive_sf2_file","0920_SBLive_sf2","0920_SoundBlasterOld_sf2","0921_Aspirin_sf2_file","0921_GeneralUserGS_sf2_file","0921_SoundBlasterOld_sf2","0930_Aspirin_sf2_file","0930_Chaos_sf2_file","0930_FluidR3_GM_sf2_file","0930_GeneralUserGS_sf2_file","0930_JCLive_sf2_file","0930_SBLive_sf2","0930_SoundBlasterOld_sf2","0931_Aspirin_sf2_file","0931_FluidR3_GM_sf2_file","0931_GeneralUserGS_sf2_file","0931_SoundBlasterOld_sf2","0940_Aspirin_sf2_file","0940_Chaos_sf2_file","0940_FluidR3_GM_sf2_file","0940_GeneralUserGS_sf2_file","0940_JCLive_sf2_file","0940_SBLive_sf2","0940_SoundBlasterOld_sf2","0941_Aspirin_sf2_file","0941_FluidR3_GM_sf2_file","0941_GeneralUserGS_sf2_file","0941_JCLive_sf2_file","0950_Aspirin_sf2_file","0950_Chaos_sf2_file","0950_FluidR3_GM_sf2_file","0950_GeneralUserGS_sf2_file","0950_JCLive_sf2_file","0950_SBLive_sf2","0950_SoundBlasterOld_sf2","0951_FluidR3_GM_sf2_file","0951_GeneralUserGS_sf2_file","0960_Aspirin_sf2_file","0960_Chaos_sf2_file","0960_FluidR3_GM_sf2_file","0960_GeneralUserGS_sf2_file","0960_JCLive_sf2_file","0960_SBLive_sf2","0960_SoundBlasterOld_sf2","0961_Aspirin_sf2_file","0961_FluidR3_GM_sf2_file","0961_GeneralUserGS_sf2_file","0961_SoundBlasterOld_sf2","0962_GeneralUserGS_sf2_file","0970_Aspirin_sf2_file","0970_Chaos_sf2_file","0970_FluidR3_GM_sf2_file","0970_GeneralUserGS_sf2_file","0970_JCLive_sf2_file","0970_SBLive_sf2","0970_SoundBlasterOld_sf2","0971_FluidR3_GM_sf2_file","0971_GeneralUserGS_sf2_file","0971_SoundBlasterOld_sf2","0980_Aspirin_sf2_file","0980_Chaos_sf2_file","0980_FluidR3_GM_sf2_file","0980_GeneralUserGS_sf2_file","0980_JCLive_sf2_file","0980_SBLive_sf2","0980_SoundBlasterOld_sf2","0981_Aspirin_sf2_file","0981_FluidR3_GM_sf2_file","0981_GeneralUserGS_sf2_file","0981_SoundBlasterOld_sf2","0982_GeneralUserGS_sf2_file","0983_GeneralUserGS_sf2_file","0984_GeneralUserGS_sf2_file","0990_Aspirin_sf2_file","0990_Chaos_sf2_file","0990_FluidR3_GM_sf2_file","0990_GeneralUserGS_sf2_file","0990_JCLive_sf2_file","0990_SBLive_sf2","0990_SoundBlasterOld_sf2","0991_Aspirin_sf2_file","0991_FluidR3_GM_sf2_file","0991_GeneralUserGS_sf2_file","0991_JCLive_sf2_file","0991_SoundBlasterOld_sf2","0992_FluidR3_GM_sf2_file","0992_JCLive_sf2_file","0993_JCLive_sf2_file","0994_JCLive_sf2_file","1000_Aspirin_sf2_file","1000_Chaos_sf2_file","1000_FluidR3_GM_sf2_file","1000_GeneralUserGS_sf2_file","1000_JCLive_sf2_file","1000_SBLive_sf2","1000_SoundBlasterOld_sf2","1001_Aspirin_sf2_file","1001_FluidR3_GM_sf2_file","1001_GeneralUserGS_sf2_file","1001_JCLive_sf2_file","1001_SoundBlasterOld_sf2","1002_Aspirin_sf2_file","1002_FluidR3_GM_sf2_file","1002_GeneralUserGS_sf2_file","1010_Aspirin_sf2_file","1010_Chaos_sf2_file","1010_FluidR3_GM_sf2_file","1010_GeneralUserGS_sf2_file","1010_JCLive_sf2_file","1010_SBLive_sf2","1010_SoundBlasterOld_sf2","1011_Aspirin_sf2_file","1011_FluidR3_GM_sf2_file","1011_JCLive_sf2_file","1012_Aspirin_sf2_file","1020_Aspirin_sf2_file","1020_Chaos_sf2_file","1020_FluidR3_GM_sf2_file","1020_GeneralUserGS_sf2_file","1020_JCLive_sf2_file","1020_SBLive_sf2","1020_SoundBlasterOld_sf2","1021_Aspirin_sf2_file","1021_FluidR3_GM_sf2_file","1021_GeneralUserGS_sf2_file","1021_JCLive_sf2_file","1021_SoundBlasterOld_sf2","1022_GeneralUserGS_sf2_file","1030_Aspirin_sf2_file","1030_Chaos_sf2_file","1030_FluidR3_GM_sf2_file","1030_GeneralUserGS_sf2_file","1030_JCLive_sf2_file","1030_SBLive_sf2","1030_SoundBlasterOld_sf2","1031_Aspirin_sf2_file","1031_FluidR3_GM_sf2_file","1031_GeneralUserGS_sf2_file","1031_SoundBlasterOld_sf2","1032_FluidR3_GM_sf2_file","1040_Aspirin_sf2_file","1040_Chaos_sf2_file","1040_FluidR3_GM_sf2_file","1040_GeneralUserGS_sf2_file","1040_JCLive_sf2_file","1040_SBLive_sf2","1040_SoundBlasterOld_sf2","1041_FluidR3_GM_sf2_file","1041_GeneralUserGS_sf2_file","1050_Aspirin_sf2_file","1050_Chaos_sf2_file","1050_FluidR3_GM_sf2_file","1050_GeneralUserGS_sf2_file","1050_JCLive_sf2_file","1050_SBLive_sf2","1050_SoundBlasterOld_sf2","1051_GeneralUserGS_sf2_file","1060_Aspirin_sf2_file","1060_Chaos_sf2_file","1060_FluidR3_GM_sf2_file","1060_GeneralUserGS_sf2_file","1060_JCLive_sf2_file","1060_SBLive_sf2","1060_SoundBlasterOld_sf2","1061_FluidR3_GM_sf2_file","1061_GeneralUserGS_sf2_file","1061_SoundBlasterOld_sf2","1070_Aspirin_sf2_file","1070_Chaos_sf2_file","1070_FluidR3_GM_sf2_file","1070_GeneralUserGS_sf2_file","1070_JCLive_sf2_file","1070_SBLive_sf2","1070_SoundBlasterOld_sf2","1071_FluidR3_GM_sf2_file","1071_GeneralUserGS_sf2_file","1072_GeneralUserGS_sf2_file","1073_GeneralUserGS_sf2_file","1080_Aspirin_sf2_file","1080_Chaos_sf2_file","1080_FluidR3_GM_sf2_file","1080_GeneralUserGS_sf2_file","1080_JCLive_sf2_file","1080_SBLive_sf2","1080_SoundBlasterOld_sf2","1081_SoundBlasterOld_sf2","1090_Aspirin_sf2_file","1090_Chaos_sf2_file","1090_FluidR3_GM_sf2_file","1090_GeneralUserGS_sf2_file","1090_JCLive_sf2_file","1090_SBLive_sf2","1090_SoundBlasterOld_sf2","1091_SoundBlasterOld_sf2","1100_Aspirin_sf2_file","1100_Chaos_sf2_file","1100_FluidR3_GM_sf2_file","1100_GeneralUserGS_sf2_file","1100_JCLive_sf2_file","1100_SBLive_sf2","1100_SoundBlasterOld_sf2","1101_Aspirin_sf2_file","1101_FluidR3_GM_sf2_file","1101_GeneralUserGS_sf2_file","1102_GeneralUserGS_sf2_file","1110_Aspirin_sf2_file","1110_Chaos_sf2_file","1110_FluidR3_GM_sf2_file","1110_GeneralUserGS_sf2_file","1110_JCLive_sf2_file","1110_SBLive_sf2","1110_SoundBlasterOld_sf2","1120_Aspirin_sf2_file","1120_Chaos_sf2_file","1120_FluidR3_GM_sf2_file","1120_GeneralUserGS_sf2_file","1120_JCLive_sf2_file","1120_SBLive_sf2","1120_SoundBlasterOld_sf2","1121_SoundBlasterOld_sf2","1130_Aspirin_sf2_file","1130_Chaos_sf2_file","1130_FluidR3_GM_sf2_file","1130_GeneralUserGS_sf2_file","1130_JCLive_sf2_file","1130_SBLive_sf2","1130_SoundBlasterOld_sf2","1131_FluidR3_GM_sf2_file","1131_SoundBlasterOld_sf2","1140_Aspirin_sf2_file","1140_Chaos_sf2_file","1140_FluidR3_GM_sf2_file","1140_GeneralUserGS_sf2_file","1140_JCLive_sf2_file","1140_SBLive_sf2","1140_SoundBlasterOld_sf2","1141_FluidR3_GM_sf2_file","1150_Aspirin_sf2_file","1150_Chaos_sf2_file","1150_FluidR3_GM_sf2_file","1150_GeneralUserGS_sf2_file","1150_JCLive_sf2_file","1150_SBLive_sf2","1150_SoundBlasterOld_sf2","1151_FluidR3_GM_sf2_file","1151_GeneralUserGS_sf2_file","1152_FluidR3_GM_sf2_file","1152_GeneralUserGS_sf2_file","1160_Aspirin_sf2_file","1160_Chaos_sf2_file","1160_FluidR3_GM_sf2_file","1160_GeneralUserGS_sf2_file","1160_JCLive_sf2_file","1160_SBLive_sf2","1160_SoundBlasterOld_sf2","1161_FluidR3_GM_sf2_file","1161_GeneralUserGS_sf2_file","1161_SoundBlasterOld_sf2","1162_FluidR3_GM_sf2_file","1162_GeneralUserGS_sf2_file","1163_FluidR3_GM_sf2_file","1170_Aspirin_sf2_file","1170_Chaos_sf2_file","1170_FluidR3_GM_sf2_file","1170_GeneralUserGS_sf2_file","1170_JCLive_sf2_file","1170_SBLive_sf2","1170_SoundBlasterOld_sf2","1171_FluidR3_GM_sf2_file","1171_GeneralUserGS_sf2_file","1172_FluidR3_GM_sf2_file","1173_FluidR3_GM_sf2_file","1180_Aspirin_sf2_file","1180_Chaos_sf2_file","1180_FluidR3_GM_sf2_file","1180_GeneralUserGS_sf2_file","1180_JCLive_sf2_file","1180_SBLive_sf2","1180_SoundBlasterOld_sf2","1181_FluidR3_GM_sf2_file","1181_GeneralUserGS_sf2_file","1181_SoundBlasterOld_sf2","1190_Aspirin_sf2_file","1190_Chaos_sf2_file","1190_FluidR3_GM_sf2_file","1190_GeneralUserGS_sf2_file","1190_JCLive_sf2_file","1190_SBLive_sf2","1190_SoundBlasterOld_sf2","1191_GeneralUserGS_sf2_file","1192_GeneralUserGS_sf2_file","1193_GeneralUserGS_sf2_file","1194_GeneralUserGS_sf2_file","1200_Aspirin_sf2_file","1200_Chaos_sf2_file","1200_FluidR3_GM_sf2_file","1200_GeneralUserGS_sf2_file","1200_JCLive_sf2_file","1200_SBLive_sf2","1200_SoundBlasterOld_sf2","1201_Aspirin_sf2_file","1201_GeneralUserGS_sf2_file","1202_GeneralUserGS_sf2_file","1210_Aspirin_sf2_file","1210_Chaos_sf2_file","1210_FluidR3_GM_sf2_file","1210_GeneralUserGS_sf2_file","1210_JCLive_sf2_file","1210_SBLive_sf2","1210_SoundBlasterOld_sf2","1211_Aspirin_sf2_file","1211_GeneralUserGS_sf2_file","1212_GeneralUserGS_sf2_file","1220_Aspirin_sf2_file","1220_Chaos_sf2_file","1220_FluidR3_GM_sf2_file","1220_GeneralUserGS_sf2_file","1220_JCLive_sf2_file","1220_SBLive_sf2","1220_SoundBlasterOld_sf2","1221_Aspirin_sf2_file","1221_GeneralUserGS_sf2_file","1221_JCLive_sf2_file","1222_Aspirin_sf2_file","1222_GeneralUserGS_sf2_file","1223_Aspirin_sf2_file","1223_GeneralUserGS_sf2_file","1224_Aspirin_sf2_file","1224_GeneralUserGS_sf2_file","1225_GeneralUserGS_sf2_file","1226_GeneralUserGS_sf2_file","1230_Aspirin_sf2_file","1230_Chaos_sf2_file","1230_FluidR3_GM_sf2_file","1230_GeneralUserGS_sf2_file","1230_JCLive_sf2_file","1230_SBLive_sf2","1230_SoundBlasterOld_sf2","1231_Aspirin_sf2_file","1231_GeneralUserGS_sf2_file","1232_Aspirin_sf2_file","1232_GeneralUserGS_sf2_file","1233_GeneralUserGS_sf2_file","1234_GeneralUserGS_sf2_file","1240_Aspirin_sf2_file","1240_Chaos_sf2_file","1240_FluidR3_GM_sf2_file","1240_GeneralUserGS_sf2_file","1240_JCLive_sf2_file","1240_SBLive_sf2","1240_SoundBlasterOld_sf2","1241_Aspirin_sf2_file","1241_GeneralUserGS_sf2_file","1242_Aspirin_sf2_file","1242_GeneralUserGS_sf2_file","1243_Aspirin_sf2_file","1243_GeneralUserGS_sf2_file","1244_Aspirin_sf2_file","1244_GeneralUserGS_sf2_file","1250_Aspirin_sf2_file","1250_Chaos_sf2_file","1250_FluidR3_GM_sf2_file","1250_GeneralUserGS_sf2_file","1250_JCLive_sf2_file","1250_SBLive_sf2","1250_SoundBlasterOld_sf2","1251_Aspirin_sf2_file","1251_FluidR3_GM_sf2_file","1251_GeneralUserGS_sf2_file","1252_Aspirin_sf2_file","1252_FluidR3_GM_sf2_file","1252_GeneralUserGS_sf2_file","1253_Aspirin_sf2_file","1253_GeneralUserGS_sf2_file","1254_Aspirin_sf2_file","1254_GeneralUserGS_sf2_file","1255_Aspirin_sf2_file","1255_GeneralUserGS_sf2_file","1256_Aspirin_sf2_file","1256_GeneralUserGS_sf2_file","1257_Aspirin_sf2_file","1257_GeneralUserGS_sf2_file","1258_Aspirin_sf2_file","1258_GeneralUserGS_sf2_file","1259_GeneralUserGS_sf2_file","1260_Aspirin_sf2_file","1260_Chaos_sf2_file","1260_FluidR3_GM_sf2_file","1260_GeneralUserGS_sf2_file","1260_JCLive_sf2_file","1260_SBLive_sf2","1260_SoundBlasterOld_sf2","1261_Aspirin_sf2_file","1261_GeneralUserGS_sf2_file","1262_Aspirin_sf2_file","1262_GeneralUserGS_sf2_file","1263_Aspirin_sf2_file","1263_GeneralUserGS_sf2_file","1264_Aspirin_sf2_file","1264_GeneralUserGS_sf2_file","1265_Aspirin_sf2_file","1265_GeneralUserGS_sf2_file","1270_Aspirin_sf2_file","1270_Chaos_sf2_file","1270_FluidR3_GM_sf2_file","1270_GeneralUserGS_sf2_file","1270_JCLive_sf2_file","1270_SBLive_sf2","1270_SoundBlasterOld_sf2","1271_Aspirin_sf2_file","1271_GeneralUserGS_sf2_file","1272_Aspirin_sf2_file","1272_GeneralUserGS_sf2_file","1273_GeneralUserGS_sf2_file","1274_GeneralUserGS_sf2_file"]),this.instrumentKeyArray},e.prototype.instrumentTitles=function(){var e;return 0<this.instrumentNamesArray.length||((e=[])[0]="Acoustic Grand Piano: Piano",e[1]="Bright Acoustic Piano: Piano",e[2]="Electric Grand Piano: Piano",e[3]="Honky-tonk Piano: Piano",e[4]="Electric Piano 1: Piano",e[5]="Electric Piano 2: Piano",e[6]="Harpsichord: Piano",e[7]="Clavinet: Piano",e[8]="Celesta: Chromatic Percussion",e[9]="Glockenspiel: Chromatic Percussion",e[10]="Music Box: Chromatic Percussion",e[11]="Vibraphone: Chromatic Percussion",e[12]="Marimba: Chromatic Percussion",e[13]="Xylophone: Chromatic Percussion",e[14]="Tubular Bells: Chromatic Percussion",e[15]="Dulcimer: Chromatic Percussion",e[16]="Drawbar Organ: Organ",e[17]="Percussive Organ: Organ",e[18]="Rock Organ: Organ",e[19]="Church Organ: Organ",e[20]="Reed Organ: Organ",e[21]="Accordion: Organ",e[22]="Harmonica: Organ",e[23]="Tango Accordion: Organ",e[24]="Acoustic Guitar (nylon): Guitar",e[25]="Acoustic Guitar (steel): Guitar",e[26]="Electric Guitar (jazz): Guitar",e[27]="Electric Guitar (clean): Guitar",e[28]="Electric Guitar (muted): Guitar",e[29]="Overdriven Guitar: Guitar",e[30]="Distortion Guitar: Guitar",e[31]="Guitar Harmonics: Guitar",e[32]="Acoustic Bass: Bass",e[33]="Electric Bass (finger): Bass",e[34]="Electric Bass (pick): Bass",e[35]="Fretless Bass: Bass",e[36]="Slap Bass 1: Bass",e[37]="Slap Bass 2: Bass",e[38]="Synth Bass 1: Bass",e[39]="Synth Bass 2: Bass",e[40]="Violin: Strings",e[41]="Viola: Strings",e[42]="Cello: Strings",e[43]="Contrabass: Strings",e[44]="Tremolo Strings: Strings",e[45]="Pizzicato Strings: Strings",e[46]="Orchestral Harp: Strings",e[47]="Timpani: Strings",e[48]="String Ensemble 1: Ensemble",e[49]="String Ensemble 2: Ensemble",e[50]="Synth Strings 1: Ensemble",e[51]="Synth Strings 2: Ensemble",e[52]="Choir Aahs: Ensemble",e[53]="Voice Oohs: Ensemble",e[54]="Synth Choir: Ensemble",e[55]="Orchestra Hit: Ensemble",e[56]="Trumpet: Brass",e[57]="Trombone: Brass",e[58]="Tuba: Brass",e[59]="Muted Trumpet: Brass",e[60]="French Horn: Brass",e[61]="Brass Section: Brass",e[62]="Synth Brass 1: Brass",e[63]="Synth Brass 2: Brass",e[64]="Soprano Sax: Reed",e[65]="Alto Sax: Reed",e[66]="Tenor Sax: Reed",e[67]="Baritone Sax: Reed",e[68]="Oboe: Reed",e[69]="English Horn: Reed",e[70]="Bassoon: Reed",e[71]="Clarinet: Reed",e[72]="Piccolo: Pipe",e[73]="Flute: Pipe",e[74]="Recorder: Pipe",e[75]="Pan Flute: Pipe",e[76]="Blown bottle: Pipe",e[77]="Shakuhachi: Pipe",e[78]="Whistle: Pipe",e[79]="Ocarina: Pipe",e[80]="Lead 1 (square): Synth Lead",e[81]="Lead 2 (sawtooth): Synth Lead",e[82]="Lead 3 (calliope): Synth Lead",e[83]="Lead 4 (chiff): Synth Lead",e[84]="Lead 5 (charang): Synth Lead",e[85]="Lead 6 (voice): Synth Lead",e[86]="Lead 7 (fifths): Synth Lead",e[87]="Lead 8 (bass + lead): Synth Lead",e[88]="Pad 1 (new age): Synth Pad",e[89]="Pad 2 (warm): Synth Pad",e[90]="Pad 3 (polysynth): Synth Pad",e[91]="Pad 4 (choir): Synth Pad",e[92]="Pad 5 (bowed): Synth Pad",e[93]="Pad 6 (metallic): Synth Pad",e[94]="Pad 7 (halo): Synth Pad",e[95]="Pad 8 (sweep): Synth Pad",e[96]="FX 1 (rain): Synth Effects",e[97]="FX 2 (soundtrack): Synth Effects",e[98]="FX 3 (crystal): Synth Effects",e[99]="FX 4 (atmosphere): Synth Effects",e[100]="FX 5 (brightness): Synth Effects",e[101]="FX 6 (goblins): Synth Effects",e[102]="FX 7 (echoes): Synth Effects",e[103]="FX 8 (sci-fi): Synth Effects",e[104]="Sitar: Ethnic",e[105]="Banjo: Ethnic",e[106]="Shamisen: Ethnic",e[107]="Koto: Ethnic",e[108]="Kalimba: Ethnic",e[109]="Bagpipe: Ethnic",e[110]="Fiddle: Ethnic",e[111]="Shanai: Ethnic",e[112]="Tinkle Bell: Percussive",e[113]="Agogo: Percussive",e[114]="Steel Drums: Percussive",e[115]="Woodblock: Percussive",e[116]="Taiko Drum: Percussive",e[117]="Melodic Tom: Percussive",e[118]="Synth Drum: Percussive",e[119]="Reverse Cymbal: Percussive",e[120]="Guitar Fret Noise: Sound effects",e[121]="Breath Noise: Sound effects",e[122]="Seashore: Sound effects",e[123]="Bird Tweet: Sound effects",e[124]="Telephone Ring: Sound effects",e[125]="Helicopter: Sound effects",e[126]="Applause: Sound effects",e[127]="Gunshot: Sound effects",this.instrumentNamesArray=e),this.instrumentNamesArray},e.prototype.instrumentInfo=function(e){var t=this.instrumentKeys()[e],i=t.substring(0,3),s=parseInt(i);return{variable:"_tone_"+t,url:"https://surikov.github.io/webaudiofontdata/sound/"+t+".js",title:this.instrumentTitles()[s]}},e.prototype.drumTitles=function(){var e;return this.drumNamesArray.length<1&&((e=[])[35]="Bass Drum 2",e[36]="Bass Drum 1",e[37]="Side Stick/Rimshot",e[38]="Snare Drum 1",e[39]="Hand Clap",e[40]="Snare Drum 2",e[41]="Low Tom 2",e[42]="Closed Hi-hat",e[43]="Low Tom 1",e[44]="Pedal Hi-hat",e[45]="Mid Tom 2",e[46]="Open Hi-hat",e[47]="Mid Tom 1",e[48]="High Tom 2",e[49]="Crash Cymbal 1",e[50]="High Tom 1",e[51]="Ride Cymbal 1",e[52]="Chinese Cymbal",e[53]="Ride Bell",e[54]="Tambourine",e[55]="Splash Cymbal",e[56]="Cowbell",e[57]="Crash Cymbal 2",e[58]="Vibra Slap",e[59]="Ride Cymbal 2",e[60]="High Bongo",e[61]="Low Bongo",e[62]="Mute High Conga",e[63]="Open High Conga",e[64]="Low Conga",e[65]="High Timbale",e[66]="Low Timbale",e[67]="High Agogo",e[68]="Low Agogo",e[69]="Cabasa",e[70]="Maracas",e[71]="Short Whistle",e[72]="Long Whistle",e[73]="Short Guiro",e[74]="Long Guiro",e[75]="Claves",e[76]="High Wood Block",e[77]="Low Wood Block",e[78]="Mute Cuica",e[79]="Open Cuica",e[80]="Mute Triangle",e[81]="Open Triangle",this.drumNamesArray=e),this.drumNamesArray},e.prototype.drumInfo=function(e){var t=this.drumKeys()[e],i=t.substring(0,2),s=parseInt(i);return{variable:"_drum_"+t,url:"https://surikov.github.io/webaudiofontdata/sound/128"+t+".js",pitch:s,title:this.drumTitles()[s]}},e.prototype.findInstrument=function(e){for(var t=0;t<this.instrumentKeys().length;t++){var i=this.instrumentKeys()[t].substring(0,3);if(e==parseInt(i)+1)return t}return console.log("program",e,"not found"),0},e.prototype.drumKeys=function(){return this.drumKeyArray.length<1&&(this.drumKeyArray=["35_0_SBLive_sf2","35_12_JCLive_sf2_file","35_16_JCLive_sf2_file","35_18_JCLive_sf2_file","35_4_Chaos_sf2_file","36_0_SBLive_sf2","36_12_JCLive_sf2_file","36_16_JCLive_sf2_file","36_18_JCLive_sf2_file","36_4_Chaos_sf2_file","37_0_SBLive_sf2","37_12_JCLive_sf2_file","37_16_JCLive_sf2_file","37_18_JCLive_sf2_file","37_4_Chaos_sf2_file","38_0_SBLive_sf2","38_12_JCLive_sf2_file","38_16_JCLive_sf2_file","38_18_JCLive_sf2_file","38_4_Chaos_sf2_file","39_0_SBLive_sf2","39_12_JCLive_sf2_file","39_16_JCLive_sf2_file","39_18_JCLive_sf2_file","39_4_Chaos_sf2_file","40_0_SBLive_sf2","40_12_JCLive_sf2_file","40_16_JCLive_sf2_file","40_18_JCLive_sf2_file","40_4_Chaos_sf2_file","41_0_SBLive_sf2","41_12_JCLive_sf2_file","41_16_JCLive_sf2_file","41_18_JCLive_sf2_file","41_4_Chaos_sf2_file","42_0_SBLive_sf2","42_12_JCLive_sf2_file","42_16_JCLive_sf2_file","42_18_JCLive_sf2_file","42_4_Chaos_sf2_file","43_0_SBLive_sf2","43_12_JCLive_sf2_file","43_16_JCLive_sf2_file","43_18_JCLive_sf2_file","43_4_Chaos_sf2_file","44_0_SBLive_sf2","44_12_JCLive_sf2_file","44_16_JCLive_sf2_file","44_18_JCLive_sf2_file","44_4_Chaos_sf2_file","45_0_SBLive_sf2","45_12_JCLive_sf2_file","45_16_JCLive_sf2_file","45_18_JCLive_sf2_file","45_4_Chaos_sf2_file","46_0_SBLive_sf2","46_12_JCLive_sf2_file","46_16_JCLive_sf2_file","46_18_JCLive_sf2_file","46_4_Chaos_sf2_file","47_0_SBLive_sf2","47_12_JCLive_sf2_file","47_16_JCLive_sf2_file","47_18_JCLive_sf2_file","47_4_Chaos_sf2_file","48_0_SBLive_sf2","48_12_JCLive_sf2_file","48_16_JCLive_sf2_file","48_18_JCLive_sf2_file","48_4_Chaos_sf2_file","49_0_SBLive_sf2","49_12_JCLive_sf2_file","49_16_JCLive_sf2_file","49_18_JCLive_sf2_file","49_4_Chaos_sf2_file","50_0_SBLive_sf2","50_12_JCLive_sf2_file","50_16_JCLive_sf2_file","50_18_JCLive_sf2_file","50_4_Chaos_sf2_file","51_0_SBLive_sf2","51_12_JCLive_sf2_file","51_16_JCLive_sf2_file","51_18_JCLive_sf2_file","51_4_Chaos_sf2_file","52_0_SBLive_sf2","52_12_JCLive_sf2_file","52_16_JCLive_sf2_file","52_18_JCLive_sf2_file","52_4_Chaos_sf2_file","53_0_SBLive_sf2","53_12_JCLive_sf2_file","53_16_JCLive_sf2_file","53_18_JCLive_sf2_file","53_4_Chaos_sf2_file","54_0_SBLive_sf2","54_12_JCLive_sf2_file","54_16_JCLive_sf2_file","54_18_JCLive_sf2_file","54_4_Chaos_sf2_file","55_0_SBLive_sf2","55_12_JCLive_sf2_file","55_16_JCLive_sf2_file","55_18_JCLive_sf2_file","55_4_Chaos_sf2_file","56_0_SBLive_sf2","56_12_JCLive_sf2_file","56_16_JCLive_sf2_file","56_18_JCLive_sf2_file","56_4_Chaos_sf2_file","57_0_SBLive_sf2","57_12_JCLive_sf2_file","57_16_JCLive_sf2_file","57_18_JCLive_sf2_file","57_4_Chaos_sf2_file","58_0_SBLive_sf2","58_12_JCLive_sf2_file","58_16_JCLive_sf2_file","58_18_JCLive_sf2_file","58_4_Chaos_sf2_file","59_0_SBLive_sf2","59_12_JCLive_sf2_file","59_16_JCLive_sf2_file","59_18_JCLive_sf2_file","59_4_Chaos_sf2_file","60_0_SBLive_sf2","60_12_JCLive_sf2_file","60_16_JCLive_sf2_file","60_18_JCLive_sf2_file","60_4_Chaos_sf2_file","61_0_SBLive_sf2","61_12_JCLive_sf2_file","61_16_JCLive_sf2_file","61_18_JCLive_sf2_file","61_4_Chaos_sf2_file","62_0_SBLive_sf2","62_12_JCLive_sf2_file","62_16_JCLive_sf2_file","62_18_JCLive_sf2_file","62_4_Chaos_sf2_file","63_0_SBLive_sf2","63_12_JCLive_sf2_file","63_16_JCLive_sf2_file","63_18_JCLive_sf2_file","63_4_Chaos_sf2_file","64_0_SBLive_sf2","64_12_JCLive_sf2_file","64_16_JCLive_sf2_file","64_18_JCLive_sf2_file","64_4_Chaos_sf2_file","65_0_SBLive_sf2","65_12_JCLive_sf2_file","65_16_JCLive_sf2_file","65_18_JCLive_sf2_file","65_4_Chaos_sf2_file","66_0_SBLive_sf2","66_12_JCLive_sf2_file","66_16_JCLive_sf2_file","66_18_JCLive_sf2_file","66_4_Chaos_sf2_file","67_0_SBLive_sf2","67_12_JCLive_sf2_file","67_16_JCLive_sf2_file","67_18_JCLive_sf2_file","67_4_Chaos_sf2_file","68_0_SBLive_sf2","68_12_JCLive_sf2_file","68_16_JCLive_sf2_file","68_18_JCLive_sf2_file","68_4_Chaos_sf2_file","69_0_SBLive_sf2","69_12_JCLive_sf2_file","69_16_JCLive_sf2_file","69_18_JCLive_sf2_file","69_4_Chaos_sf2_file","70_0_SBLive_sf2","70_12_JCLive_sf2_file","70_16_JCLive_sf2_file","70_18_JCLive_sf2_file","70_4_Chaos_sf2_file","71_0_SBLive_sf2","71_12_JCLive_sf2_file","71_16_JCLive_sf2_file","71_18_JCLive_sf2_file","71_4_Chaos_sf2_file","72_0_SBLive_sf2","72_12_JCLive_sf2_file","72_16_JCLive_sf2_file","72_18_JCLive_sf2_file","72_4_Chaos_sf2_file","73_0_SBLive_sf2","73_12_JCLive_sf2_file","73_16_JCLive_sf2_file","73_18_JCLive_sf2_file","73_4_Chaos_sf2_file","74_0_SBLive_sf2","74_12_JCLive_sf2_file","74_16_JCLive_sf2_file","74_18_JCLive_sf2_file","74_4_Chaos_sf2_file","75_0_SBLive_sf2","75_12_JCLive_sf2_file","75_16_JCLive_sf2_file","75_18_JCLive_sf2_file","75_4_Chaos_sf2_file","76_0_SBLive_sf2","76_12_JCLive_sf2_file","76_16_JCLive_sf2_file","76_18_JCLive_sf2_file","76_4_Chaos_sf2_file","77_0_SBLive_sf2","77_12_JCLive_sf2_file","77_16_JCLive_sf2_file","77_18_JCLive_sf2_file","77_4_Chaos_sf2_file","78_0_SBLive_sf2","78_12_JCLive_sf2_file","78_16_JCLive_sf2_file","78_18_JCLive_sf2_file","78_4_Chaos_sf2_file","79_0_SBLive_sf2","79_12_JCLive_sf2_file","79_16_JCLive_sf2_file","79_18_JCLive_sf2_file","79_4_Chaos_sf2_file","80_0_SBLive_sf2","80_12_JCLive_sf2_file","80_16_JCLive_sf2_file","80_18_JCLive_sf2_file","80_4_Chaos_sf2_file","81_0_SBLive_sf2","81_12_JCLive_sf2_file","81_16_JCLive_sf2_file","81_18_JCLive_sf2_file","81_4_Chaos_sf2_file"]),this.drumKeyArray},e.prototype.findDrum=function(e){for(var t=0;t<this.drumKeys().length;t++){var i=this.drumKeys()[t].substring(0,2);if(e==parseInt(i))return t}return 0},e.prototype.startLoad=function(e,t,i){var s,_;window[i]?this.adjustPreset(e,window[i]):((s=document.createElement("script")).setAttribute("type","text/javascript"),s.setAttribute("src",t),document.getElementsByTagName("head")[0].appendChild(s),(_=this).waitOrFinish(i,function(){_.adjustPreset(e,window[i])}))},e.prototype.waitOrFinish=function(e,t){var i;window[e]?t():(i=this,setTimeout(function(){i.waitOrFinish(e,t)},111))},e}(),ZvoogFxGain=function(){function e(){this.vals=[]}return e.prototype.prepare=function(e){this.base=e.createGain();var i=this;this.gainParam={label:function(){return"level"},cancelScheduledValues:function(e){i.base.gain.cancelScheduledValues(e)},linearRampToValueAtTime:function(e,t){i.base.gain.linearRampToValueAtTime(e,t)},setValueAtTime:function(e,t){i.base.gain.setValueAtTime(e,t)}},this.params=[],this.params.push(this.gainParam)},e.prototype.getInput=function(){return this.base},e.prototype.getOutput=function(){return this.base},e.prototype.getParams=function(){return this.params},e.prototype.getValues=function(){return this.vals},e.prototype.busy=function(){return 0},e.prototype.label=function(){return"Volume"},e}(),ZvoogWaveSource=function(){function e(e,t,i){this.vals=[],this.afterTime=.008,this.busyState=1,this.offset=0,this.path=e,this.root=t,this.offset=i,this.busyState=1}return e.prototype.label=function(){return"Audio Wave"},e.prototype.getValues=function(){return this.vals},e.prototype.prepare=function(i){this.out=i.createGain(),this.params=[],this.waves=[],this.envelopes=[],this.audioContext=i;var s=new XMLHttpRequest;s.open("GET",this.path,!0),s.responseType="arraybuffer";var _=this;s.onload=function(e){var t=s.response;t&&i.decodeAudioData(t,function(e){_.buffer=e,_.busyState=0})},s.send(null)},e.prototype.getOutput=function(){return this.out},e.prototype.getParams=function(){return this.params},e.prototype.cancelSchedule=function(){for(var e=0;e<this.waves.length;e++)this.waves[e].audio.stop()},e.prototype.schedule=function(e,t,i){for(var s=0;s<i.length;s++)this.single(e,t,i[s])},e.prototype.single=function(e,t,i){this.cleanup();var s=this.audioContext.createBufferSource();s.buffer=this.buffer;var _=this.freq(i[0].pitch)/this.freq(this.root);s.playbackRate.setValueAtTime(_,0);for(var n=e+duration2time(t,i[0].duration),r=1;r<i.length;r++)s.playbackRate.linearRampToValueAtTime(this.freq(i[r].pitch)/this.freq(this.root),n),n+=duration2time(t,i[r].duration);for(var o=0,l=0;l<i.length;l++)o+=duration2time(t,i[l].duration);var a=this.findEnvelope(e,o);s.connect(a.base),s.start(e,this.offset),s.stop(e+o+this.afterTime),this.waves.push({audio:s,end:n})},e.prototype.findEnvelope=function(e,t){for(var i=null,s=0;s<this.envelopes.length;s++){var _=this.envelopes[s];if(this.audioContext.currentTime>_.when+_.duration+this.afterTime){i=_;break}}return i||(i={base:this.audioContext.createGain(),when:0,duration:0},this.envelopes.push(i),i.base.connect(this.out)),i.when=e,i.duration=t,i.base.gain.setValueAtTime(0,0),i.base.gain.setValueAtTime(0,e),i.base.gain.linearRampToValueAtTime(1,e+this.afterTime),i.base.gain.setValueAtTime(1,e+t),i.base.gain.linearRampToValueAtTime(0,e+t+this.afterTime),i},e.prototype.busy=function(){return this.busyState},e.prototype.freq=function(e){var t=Math.floor(e%12),i=Math.floor(e/12);return[261.63,277.18,293.66,311.13,329.63,349.23,369.99,392,415.3,440,466.16,493.88][t]/16*Math.pow(2,i)},e.prototype.nextClear=function(){for(var e=0;e<this.waves.length;e++)if(this.waves[e].end<this.audioContext.currentTime){try{this.waves[e].audio.stop(),this.waves[e].audio.disconnect()}catch(e){console.log(e)}return this.waves.splice(e,1),!0}return!1},e.prototype.cleanup=function(){for(;this.nextClear(););},e}(),ZvoogSimpleSource=function(){function e(){this.afterTime=.008,this.vals=[]}return e.prototype.prepare=function(e){this.out=e.createGain(),this.params=[],this.sines=[],this.envelopes=[],this.audioContext=e},e.prototype.label=function(){return"Sine Wave"},e.prototype.getValues=function(){return this.vals},e.prototype.getOutput=function(){return this.out},e.prototype.getParams=function(){return this.params},e.prototype.cancelSchedule=function(){for(var e=0;e<this.sines.length;e++)this.sines[e].node.stop()},e.prototype.schedule=function(e,t,i){for(var s=0;s<i.length;s++)this.single(e,t,i[s])},e.prototype.single=function(e,t,i){this.cleanup();var s=this.audioContext.createOscillator();s.type="sine",s.frequency.setValueAtTime(this.freq(i[0].pitch),e);for(var _=e+duration2time(t,i[0].duration),n=1;n<i.length;n++)s.frequency.linearRampToValueAtTime(this.freq(i[n].pitch),_),_+=duration2time(t,i[n].duration);for(var r=0,o=0;o<i.length;o++)r+=duration2time(t,i[o].duration);var l=this.findEnvelope(e,r);s.connect(l.base),s.start(e),s.stop(e+r+this.afterTime),this.sines.push({node:s,end:_})},e.prototype.findEnvelope=function(e,t){for(var i=null,s=0;s<this.envelopes.length;s++){var _=this.envelopes[s];if(this.audioContext.currentTime>_.when+_.duration+this.afterTime){i=_;break}}return i||(i={base:this.audioContext.createGain(),when:0,duration:0},this.envelopes.push(i),i.base.connect(this.out)),i.when=e,i.duration=t,i.base.gain.setValueAtTime(0,0),i.base.gain.setValueAtTime(0,e),i.base.gain.linearRampToValueAtTime(1,e+this.afterTime),i.base.gain.setValueAtTime(1,e+t),i.base.gain.linearRampToValueAtTime(0,e+t+this.afterTime),i},e.prototype.busy=function(){return 0},e.prototype.freq=function(e){var t=Math.floor(e%12),i=Math.floor(e/12);return[261.63,277.18,293.66,311.13,329.63,349.23,369.99,392,415.3,440,466.16,493.88][t]/16*Math.pow(2,i)},e.prototype.nextClear=function(){for(var e=0;e<this.sines.length;e++)if(this.sines[e].end<this.audioContext.currentTime){try{this.sines[e].node.stop(),this.sines[e].node.disconnect()}catch(e){console.log(e)}return this.sines.splice(e,1),!0}return!1},e.prototype.cleanup=function(){for(;this.nextClear(););},e}(),ZvoogInstrumentSource=function(){function e(e){this.midi=-1,this.vals=[],this.midi=e}return e.prototype.label=function(){return"WAF instrument"},e.prototype.getValues=function(){return this.vals},e.prototype.prepare=function(e){this.base=e.createGain(),this.params=[],this.audioContext=e,this.player=new ZvoogPlayer;var t=this.player.findInstrument(this.midi),i=this.player.instrumentInfo(t);this.player.startLoad(e,i.url,i.variable)},e.prototype.getOutput=function(){return this.base},e.prototype.getParams=function(){return this.params},e.prototype.cancelSchedule=function(){this.player.cancelQueue(this.audioContext)},e.prototype.schedule=function(e,t,i){if(this.zones)for(var s=0;s<i.length;s++)this.player.queueWaveTable(this.audioContext,this.base,this.zones,e,t,i[s])},e.prototype.busy=function(){if(this.zones)return 0;var e=this.player.findInstrument(this.midi),t=this.player.instrumentInfo(e),i=this.player.zones(t.variable);return i?(this.zones=i,0):1},e}(),ZvoogDrumSource=function(){function e(e){this.midi=-1,this.midi=e}return e.prototype.label=function(){return"WAF drum"},e.prototype.getValues=function(){return this.vals},e.prototype.prepare=function(e){this.base=e.createGain(),this.params=[],this.audioContext=e,this.player=new ZvoogPlayer;var t=this.player.findDrum(this.midi),i=this.player.drumInfo(t);this.player.startLoad(e,i.url,i.variable)},e.prototype.getOutput=function(){return this.base},e.prototype.getParams=function(){return this.params},e.prototype.cancelSchedule=function(){this.player.cancelQueue(this.audioContext)},e.prototype.schedule=function(e,t,i){if(this.zones)for(var s=0;s<i.length;s++)this.player.queueWaveTable(this.audioContext,this.base,this.zones,e,t,i[s])},e.prototype.busy=function(){if(this.zones)return 0;var e=this.player.findDrum(this.midi),t=this.player.drumInfo(e),i=this.player.zones(t.variable);return i?(this.zones=i,0):1},e}();console.log("tilelevel v2.15");var CannyDo=function(){function e(){this.currentID=0}return e.prototype.start=function(e,t){var i=-1;this.currentID=setTimeout(function(){i==this.currentID&&t()}.bind(this),e),i=this.currentID},e}(),TileLevel=function(){function e(e,t,i,s,_,n,r){this.tapSize=50,this.twoZoom=!1,this.clickLimit=this.tapSize/6,this.svgns="http://www.w3.org/2000/svg",this.viewWidth=0,this.viewHeight=0,this.innerWidth=0,this.innerHeight=0,this._translateX=0,this._translateY=0,this._translateZ=1,this.startMouseScreenX=0,this.startMouseScreenY=0,this.clickX=0,this.clickY=0,this.dragZoom=1,this.allTilesOK=!1,this.clicked=!1,this.mx=100,this.mn=1,this.startedTouch=!1,this.twodistance=0,this.model=[],this.slidingLockTo=0,this.slidingID=0,this.onResizeDo=new CannyDo,this.onZoom=new CannyDo,this.lastTickTime=0,this.fastenUp=!0,this.fastenDown=!0,this.fastenLeft=!0,this.fastenRight=!0,this.lastMoveDx=0,this.lastMoveDy=0,this.lastMoveDt=0,this.mouseDownMode=!1,this.svg=e,this.setupTapSize(),this.viewWidth=this.svg.clientWidth,this.viewHeight=this.svg.clientHeight,this.innerWidth=t*this.tapSize,this.innerHeight=i*this.tapSize,this.mx=n,this.mn=s,this.translateZ=_,this.svg.addEventListener("wheel",this.rakeMouseWheel.bind(this),{capture:!1,passive:!1}),this.svg.addEventListener("touchstart",this.rakeTouchStart.bind(this),{capture:!1,passive:!1}),this.svg.addEventListener("touchmove",this.rakeTouchMove.bind(this),{capture:!1,passive:!1}),this.svg.addEventListener("touchend",this.rakeTouchEnd.bind(this),{capture:!1,passive:!1}),this.svg.addEventListener("mousedown",this.rakeMouseDown.bind(this),{capture:!1,passive:!1}),this.svg.addEventListener("mousemove",this.rakeMouseMove.bind(this),{capture:!1,passive:!1}),this.svg.addEventListener("mouseup",this.rakeMouseUp.bind(this),{capture:!1,passive:!1}),window.addEventListener("resize",this.onAfterResize.bind(this)),this.setModel(r),this.startLoop(),this.applyZoomPosition(),this.clearUselessDetails()}return e.prototype.anchor=function(e,t,i,s,_,n){return{xx:e,yy:t,ww:i,hh:s,showZoom:_,hideZoom:n,content:[]}},e.prototype.rectangle=function(e,t,i,s,_,n,r){return{x:e,y:t,w:i,h:s,rx:_,ry:n,css:r}},e.prototype.actionRectangle=function(e,t,i,s,_,n,r,o){return{x:t,y:i,w:s,h:_,rx:n,ry:r,css:o,action:e}},e.prototype.line=function(e,t,i,s,_){return{x1:e,y1:t,x2:i,y2:s,css:_}},e.prototype.text=function(e,t,i,s){return{x:e,y:t,text:i,css:s}},e.prototype.pathImage=function(e,t,i,s,_){return{x:e,y:t,scale:i,points:s,css:_}},e.prototype.isLayerStickTop=function(e){return void 0!==e.stickTop},e.prototype.isLayerStickBottom=function(e){return void 0!==e.stickBottom},e.prototype.isLayerStickRight=function(e){return void 0!==e.stickRight},e.prototype.isLayerOverlay=function(e){return void 0!==e.overlay},e.prototype.isTilePath=function(e){return void 0!==e.points},e.prototype.isTileText=function(e){return void 0!==e.text},e.prototype.isTileLine=function(e){return void 0!==e.x1},e.prototype.isTilePolygon=function(e){return void 0!==e.dots},e.prototype.isLayerStickLeft=function(e){return void 0!==e.stickLeft},e.prototype.isTileRectangle=function(e){return void 0!==e.h},e.prototype.isTileGroup=function(e){return void 0!==e.content},e.prototype.isLayerNormal=function(e){return void 0===e.stickLeft&&void 0===e.stickTop&&void 0===e.stickBottom&&void 0===e.stickRight&&void 0===e.overlay},e.prototype.rid=function(){return"id"+Math.floor(1e9*Math.random())},Object.defineProperty(e.prototype,"translateZ",{get:function(){return this._translateZ},set:function(e){e!=this._translateZ&&(this._translateZ=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"translateX",{get:function(){return this._translateX},set:function(e){e!=this._translateX&&(this._translateX=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"translateY",{get:function(){return this._translateY},set:function(e){e!=this._translateY&&(this._translateY=e)},enumerable:!0,configurable:!0}),e.prototype.dump=function(){console.log("dump",this)},e.prototype.setupTapSize=function(){var e=document.createElementNS(this.svgns,"rect");e.setAttributeNS(null,"height","1cm"),e.setAttributeNS(null,"width","1cm"),this.svg.appendChild(e);var t=e.getBBox();this.tapSize=t.width,this.svg.removeChild(e),this.clickLimit=this.tapSize/6},e.prototype.onAfterResize=function(){this.onResizeDo.start(333,function(){this.viewWidth=this.svg.clientWidth,this.viewHeight=this.svg.clientHeight,this.afterResizeCallback&&this.afterResizeCallback(),this.applyZoomPosition(),this.adjustContentPosition(),this.slideToContentPosition()}.bind(this))},e.prototype.onMove=function(e,t){new Date;this.lastMoveDx=e,this.lastMoveDy=t,this.lastMoveDt=Date.now()},e.prototype.moveTail=function(e){var t=this.translateX+2*this.tapSize*e*this.lastMoveDx,i=this.translateY+2*this.tapSize*e*this.lastMoveDy;this.startSlideTo(t,i,this.translateZ,function(){}.bind(this))},e.prototype.rakeMouseWheel=function(e){this.slidingLockTo=-1,e.preventDefault();var t=e.deltaY,i=Math.min(1,t),s=Math.max(-1,i),_=this.translateZ-s*this.translateZ*.077;return _<this.minZoom()&&(_=this.minZoom()),_>this.maxZoom()&&(_=this.maxZoom()),this.translateX=this.translateX-(this.translateZ-_)*e.offsetX,this.translateY=this.translateY-(this.translateZ-_)*e.offsetY,this.translateZ=_,this.applyZoomPosition(),this.adjustContentPosition(),this.allTilesOK=!1},e.prototype.rakeMouseDown=function(e){this.slidingLockTo=-1,e.preventDefault(),this.mouseDownMode=!0,this.startMouseScreenX=e.offsetX,this.startMouseScreenY=e.offsetY,this.clickX=this.startMouseScreenX,this.clickY=this.startMouseScreenY,this.clicked=!1,this.startDragZoom()},e.prototype.rakeMouseMove=function(e){var t,i;this.mouseDownMode&&(e.preventDefault(),t=e.offsetX-this.startMouseScreenX,i=e.offsetY-this.startMouseScreenY,this.translateX=this.translateX+t*this.translateZ,this.translateY=this.translateY+i*this.translateZ,this.startMouseScreenX=e.offsetX,this.startMouseScreenY=e.offsetY,this.applyZoomPosition(),this.onMove(t,i))},e.prototype.rakeMouseUp=function(e){this.mouseDownMode&&(this.mouseDownMode=!1,e.preventDefault(),this.cancelDragZoom(),Math.abs(this.clickX-e.offsetX)<this.clickLimit&&Math.abs(this.clickY-e.offsetY)<this.clickLimit&&(this.clicked=!0),this.slideToContentPosition(),this.allTilesOK=!1)},e.prototype.rakeTouchStart=function(e){if(this.slidingLockTo=-1,e.preventDefault(),this.startedTouch=!0,e.touches.length<2)return this.twoZoom=!1,this.startMouseScreenX=e.touches[0].clientX,this.startMouseScreenY=e.touches[0].clientY,this.clickX=this.startMouseScreenX,this.clickY=this.startMouseScreenY,this.twodistance=0,void this.startDragZoom();this.startTouchZoom(e),this.clicked=!1},e.prototype.rakeTouchMove=function(e){var t,i,s,_,n;if(e.preventDefault(),this.startedTouch)if(e.touches.length<2){if(!this.twoZoom){var r=e.touches[0].clientX-this.startMouseScreenX,o=e.touches[0].clientY-this.startMouseScreenY;return this.translateX=this.translateX+r*this.translateZ,this.translateY=this.translateY+o*this.translateZ,this.startMouseScreenX=e.touches[0].clientX,this.startMouseScreenY=e.touches[0].clientY,this.applyZoomPosition(),void this.onMove(r,o)}}else this.twoZoom?(t=this.vectorFromTouch(e.touches[0]),i=this.vectorFromTouch(e.touches[1]),(s=this.vectorDistance(t,i))<=0&&(s=1),_=s/this.twodistance,this.twodistance=s,(n=this.translateZ/_)<this.minZoom()&&(n=this.minZoom()),n>this.maxZoom()&&(n=this.maxZoom()),this.viewWidth*this.translateZ<this.innerWidth&&(this.translateX=this.translateX-(this.translateZ-n)*this.twocenter.x),this.viewHeight*this.translateZ<this.innerHeight&&(this.translateY=this.translateY-(this.translateZ-n)*this.twocenter.y),this.translateZ=n,this.dragZoom=1,this.applyZoomPosition()):this.startTouchZoom(e)},e.prototype.rakeTouchEnd=function(e){if(e.preventDefault(),this.allTilesOK=!1,!this.twoZoom&&e.touches.length<2)return this.cancelDragZoom(),void(this.startedTouch&&(Math.abs(this.clickX-this.startMouseScreenX)<this.translateZ*this.clickLimit&&Math.abs(this.clickY-this.startMouseScreenY)<this.translateZ*this.clickLimit&&(this.clicked=!0),this.slideToContentPosition()));this.twoZoom=!1,this.startedTouch=!1,this.cancelDragZoom(),this.slideToContentPosition()},e.prototype.startDragZoom=function(){this.dragZoom=1.002,this.applyZoomPosition()},e.prototype.cancelDragZoom=function(){this.dragZoom=1,this.applyZoomPosition()},e.prototype.applyZoomPosition=function(){var e=-this.translateX-this.dragZoom*this.translateZ*(this.viewWidth-this.viewWidth/this.dragZoom)*(this.clickX/this.viewWidth),t=-this.translateY-this.dragZoom*this.translateZ*(this.viewHeight-this.viewHeight/this.dragZoom)*(this.clickY/this.viewHeight),i=this.viewWidth*this.translateZ*this.dragZoom,s=this.viewHeight*this.translateZ*this.dragZoom;if(this.svg.setAttribute("viewBox",e+" "+t+" "+i+" "+s),this.model)for(var _=0;_<this.model.length;_++){var n=this.model[_],r=0,o=0,l=1,a=0,f=0,h=0,u=0;this.viewWidth*this.translateZ>this.innerWidth&&(a=(this.viewWidth*this.translateZ-this.innerWidth)/2),this.viewHeight*this.translateZ>this.innerHeight&&(f=(this.viewHeight*this.translateZ-this.innerHeight)/2),this.isLayerOverlay(n)?(l=this.translateZ,r=-this.translateX,o=-this.translateY,f=a=0):this.isLayerStickLeft(n)?(r=-this.translateX,a=0,n.stickLeft&&(h=n.stickLeft*this.tapSize*this.translateZ)):this.isLayerStickTop(n)?(o=-this.translateY,f=0,n.stickTop&&(u=n.stickTop*this.tapSize*this.translateZ)):this.isLayerStickBottom(n)?(o=-this.translateY,f=0,u=this.viewHeight*this.translateZ,n.stickBottom&&(u=this.viewHeight*this.translateZ-n.stickBottom*this.tapSize)):this.isLayerStickRight(n)&&(r=-this.translateX,a=0,h=this.viewWidth*this.translateZ,n.stickRight&&(h=this.viewWidth*this.translateZ-n.stickRight*this.tapSize)),n.g.setAttribute("transform","translate("+(r+a+h)+","+(o+f+u)+") scale("+l+","+l+")")}this.checkAfterZoom()},e.prototype.checkAfterZoom=function(){this.afterZoomCallback&&this.onZoom.start(555,function(){this.afterZoomCallback()}.bind(this))},e.prototype.slideToContentPosition=function(){var e=this.calculateValidContentPosition();e.x==this.translateX&&e.y==this.translateY&&e.z==this.translateZ||this.startSlideTo(e.x,e.y,e.z,null)},e.prototype.maxZoom=function(){return this.mx},e.prototype.minZoom=function(){return this.mn},e.prototype.adjustContentPosition=function(){var e=this.calculateValidContentPosition();e.x==this.translateX&&e.y==this.translateY&&e.z==this.translateZ||(this.translateX=e.x,this.translateY=e.y,this.translateZ=e.z,this.applyZoomPosition())},e.prototype.calculateValidContentPosition=function(){var e=this.translateX,t=this.translateY,i=this.translateZ;0<this.translateX?e=0:this.viewWidth-this.translateX/this.translateZ>this.innerWidth/this.translateZ&&(e=this.viewWidth*this.translateZ-this.innerWidth<=0?this.viewWidth*this.translateZ-this.innerWidth:0);var s=this.viewHeight*this.translateZ;return this.fastenUp&&(s=0),this.translateY>s?t=s:this.viewHeight-this.translateY/this.translateZ>this.innerHeight/this.translateZ&&(t=this.viewHeight*this.translateZ-this.innerHeight<=0?this.viewHeight*this.translateZ-this.innerHeight:0),this.translateZ<this.minZoom()?i=this.minZoom():this.translateZ>this.maxZoom()&&(i=this.maxZoom()),{x:e,y:t,z:i}},e.prototype.startTouchZoom=function(e){this.twoZoom=!0;var t=this.vectorFromTouch(e.touches[0]),i=this.vectorFromTouch(e.touches[1]);this.twocenter=this.vectorFindCenter(t,i);var s=this.vectorDistance(t,i);s<=0&&(s=1),this.twodistance=s},e.prototype.vectorFromTouch=function(e){return{x:e.clientX,y:e.clientY}},e.prototype.vectorFindCenter=function(e,t){var i=this.vectorAdd(e,t);return this.vectorScale(i,.5)},e.prototype.vectorAdd=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},e.prototype.vectorScale=function(e,t){return{x:e.x*t,y:e.y*t}},e.prototype.vectorDistance=function(e,t){var i=this.vectorSubstract(e,t);return this.vectorNorm(i)},e.prototype.vectorNorm=function(e){return Math.sqrt(this.vectorNormSquared(e))},e.prototype.vectorSubstract=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},e.prototype.vectorNormSquared=function(e){return e.x*e.x+e.y*e.y},e.prototype.startSlideCenter=function(e,t,i,s,_,n){var r=(i*this.viewWidth/this.tapSize-s)/2,o=(i*this.viewHeight/this.tapSize-_)/2;this.startSlideTo((r-e)*this.tapSize,(o-t)*this.tapSize,i,n)},e.prototype.startSlideTo=function(e,t,i,s){this.startStepSlideTo(20,e,t,i,s)},e.prototype.startStepSlideTo=function(e,t,i,s,_){clearTimeout(this.slidingID);for(var n=e,r=[],o=0;o<n;o++)r.push({x:this.translateX+(t-this.translateX)*Math.cos(Math.PI/2/(1+o)),y:this.translateY+(i-this.translateY)*Math.cos(Math.PI/2/(1+o)),z:this.translateZ+(s-this.translateZ)*Math.cos(Math.PI/2/(1+o))});r.push({x:t,y:i,z:s}),this.slidingLockTo=Math.random(),this.stepSlideTo(this.slidingLockTo,r,_)},e.prototype.stepSlideTo=function(e,t,i){var s,_=t.shift();_?e==this.slidingLockTo&&(this.translateX=_.x,this.translateY=_.y,this.translateZ=_.z,this.applyZoomPosition(),(s=this).slidingID=setTimeout(function(){s.stepSlideTo(e,t,i)},30)):(i&&i(),this.adjustContentPosition(),this.allTilesOK=!0,this.queueTiles())},e.prototype.queueTiles=function(){this.clearUselessDetails(),this.tileFromModel()},e.prototype.clearUselessDetails=function(){if(this.model)for(var e=0;e<this.model.length;e++){var t=this.model[e].g;this.clearUselessGroups(t,this.model[e])}},e.prototype.clearUselessGroups=function(e,t){var i=-this.translateX,s=-this.translateY,_=this.svg.clientWidth*this.translateZ,n=this.svg.clientHeight*this.translateZ;this.viewWidth*this.translateZ>this.innerWidth&&(i-=(this.viewWidth*this.translateZ-this.innerWidth)/2),this.viewHeight*this.translateZ>this.innerHeight&&(s-=(this.viewHeight*this.translateZ-this.innerHeight)/2),this.isLayerOverlay(t)?s=i=0:this.isLayerStickLeft(t)?i=0:this.isLayerStickTop(t)?s=0:this.isLayerStickRight(t)?i=0:this.isLayerStickBottom(t)&&(s=0),e&&this.msEdgeHook(e);for(var r=0;r<e.children.length;r++){var o=e.children[r];this.outOfWatch(o,i,s,_,n)||o.minZoom>this.translateZ||o.maxZoom<=this.translateZ?(e.removeChild(o),r--):"g"==o.localName&&this.clearUselessGroups(o,t)}},e.prototype.msEdgeHook=function(e){e.childNodes&&!e.children&&(e.children=e.childNodes)},e.prototype.outOfWatch=function(e,t,i,s,_){var n=e.watchX,r=e.watchY,o=e.watchW,l=e.watchH;return!this.collision(n,r,o,l,t,i,s,_)},e.prototype.collision=function(e,t,i,s,_,n,r,o){return!(!this.collision2(e,i,_,r)||!this.collision2(t,s,n,o))},e.prototype.collision2=function(e,t,i,s){return!(e+t<=i||i+s<=e)},e.prototype.tileFromModel=function(){if(this.model)for(var e=0;e<this.model.length;e++)for(var t=this.model[e].g,i=this.model[e].anchors,s=0;s<i.length;s++){var _=i[s];this.addGroupTile(t,_,this.model[e])}this.allTilesOK=!0},e.prototype.addGroupTile=function(e,t,i){var s=-this.translateX,_=-this.translateY,n=this.svg.clientWidth*this.translateZ,r=this.svg.clientHeight*this.translateZ;if(this.viewWidth*this.translateZ>this.innerWidth&&(s-=(this.viewWidth*this.translateZ-this.innerWidth)/2),this.viewHeight*this.translateZ>this.innerHeight&&(_-=(this.viewHeight*this.translateZ-this.innerHeight)/2),this.isLayerOverlay(i)?_=s=0:this.isLayerStickLeft(i)?s=0:this.isLayerStickTop(i)?_=0:this.isLayerStickRight(i)?s=0:this.isLayerStickBottom(i)&&(_=0),t.showZoom<=this.translateZ&&t.hideZoom>this.translateZ&&this.collision(t.xx*this.tapSize,t.yy*this.tapSize,t.ww*this.tapSize,t.hh*this.tapSize,s,_,n,r)){var o=t.id?t.id:"",l=this.childExists(e,o);if(l)for(var a=0;a<t.content.length;a++){var f=t.content[a];this.isTileGroup(f)&&this.addElement(l,f,i)}else{var h=document.createElementNS(this.svgns,"g");h.id=o,h.watchX=t.xx*this.tapSize,h.watchY=t.yy*this.tapSize,h.watchW=t.ww*this.tapSize,h.watchH=t.hh*this.tapSize,e.appendChild(h),h.minZoom=t.showZoom,h.maxZoom=t.hideZoom;for(a=0;a<t.content.length;a++){f=t.content[a];this.addElement(h,f,i)}}}},e.prototype.childExists=function(e,t){if(t){e&&this.msEdgeHook(e);for(var i=0;i<e.children.length;i++){var s=e.children[i];if(s.id==t)return s}}return null},e.prototype.addElement=function(e,t,i){var s,_,n=null;this.isTileRectangle(t)&&(n=this.tileRectangle(e,t.x*this.tapSize,t.y*this.tapSize,t.w*this.tapSize,t.h*this.tapSize,(t.rx?t.rx:0)*this.tapSize,(t.ry?t.ry:0)*this.tapSize,t.css?t.css:"")),this.isTileText(t)&&(n=this.tileText(e,t.x*this.tapSize,t.y*this.tapSize,t.text,t.css?t.css:"")),this.isTilePath(t)&&(n=this.tilePath(e,(t.x?t.x:0)*this.tapSize,(t.y?t.y:0)*this.tapSize,t.scale?t.scale:0,t.points,t.css?t.css:"")),this.isTilePolygon(t)&&(n=this.tilePolygon(e,(t.x?t.x:0)*this.tapSize,(t.y?t.y:0)*this.tapSize,t.scale,t.dots,t.css)),this.isTileLine(t)&&(n=this.tileLine(e,t.x1*this.tapSize,t.y1*this.tapSize,t.x2*this.tapSize,t.y2*this.tapSize,t.css)),this.isTileGroup(t)&&this.addGroupTile(e,t,i),n&&t.action&&(n.onClickFunction=t.action,s=this,_=function(){var e,t;s.clicked&&n&&n.onClickFunction&&(e=n.getBoundingClientRect().left-s.svg.getBoundingClientRect().left,t=n.getBoundingClientRect().top-s.svg.getBoundingClientRect().top,n.onClickFunction(s.translateZ*(s.clickX-e)/s.tapSize,s.translateZ*(s.clickY-t)/s.tapSize))},n.onclick=_,n.ontouchend=_)},e.prototype.tilePolygon=function(e,t,i,s,_,n){for(var r=document.createElementNS(this.svgns,"polygon"),o="",l="",a=0;a<_.length;a+=2)o=o+l+_[a]*this.tapSize+","+_[a+1]*this.tapSize,l=", ";r.setAttributeNS(null,"points",o);var f=t||i?"translate("+t+","+i+")":"";return s&&(f=f+" scale("+s+")"),0<f.length&&r.setAttributeNS(null,"transform",f),n&&r.classList.add(n),e.appendChild(r),r},e.prototype.tilePath=function(e,t,i,s,_,n){var r=document.createElementNS(this.svgns,"path");r.setAttributeNS(null,"d",_);var o=t||i?"translate("+t+","+i+")":"";return s&&(o=o+" scale("+s+")"),0<o.length&&r.setAttributeNS(null,"transform",o),n&&r.classList.add(n),e.appendChild(r),r},e.prototype.tileRectangle=function(e,t,i,s,_,n,r,o){var l=document.createElementNS(this.svgns,"rect");return l.setAttributeNS(null,"x",""+t),l.setAttributeNS(null,"y",""+i),l.setAttributeNS(null,"height",""+_),l.setAttributeNS(null,"width",""+s),n&&l.setAttributeNS(null,"rx",""+n),r&&l.setAttributeNS(null,"ry",""+r),o&&l.classList.add(o),e.appendChild(l),l},e.prototype.tileLine=function(e,t,i,s,_,n){var r=document.createElementNS(this.svgns,"line");return r.setAttributeNS(null,"x1",""+t),r.setAttributeNS(null,"y1",""+i),r.setAttributeNS(null,"x2",""+s),r.setAttributeNS(null,"y2",""+_),n&&r.classList.add(n),e.appendChild(r),r},e.prototype.tileText=function(e,t,i,s,_){var n=document.createElementNS(this.svgns,"text");return n.setAttributeNS(null,"x",""+t),n.setAttributeNS(null,"y",""+i),_&&n.setAttributeNS(null,"class",_),n.innerHTML=s,e.appendChild(n),n},e.prototype.clearAllDetails=function(){if(this.model)for(var e=0;e<this.model.length;e++)this.clearGroupDetails(this.model[e].g)},e.prototype.clearGroupDetails=function(e){for(e&&this.msEdgeHook(e);e.children.length;)e.removeChild(e.children[0])},e.prototype.autoID=function(e){if(e&&e.length)for(var t,i=0;i<e.length;i++){e[i].id||(e[i].id=this.rid()),this.isTileGroup(e[i])&&(t=e[i],this.autoID(t.content))}},e.prototype.setModel=function(e){for(var t=0;t<e.length;t++)this.autoID(e[t].anchors);this.model=e,this.resetModel()},e.prototype.resetModel=function(){for(var e=0;e<this.model.length;e++)this.autoID(this.model[e].anchors);this.clearAllDetails(),this.applyZoomPosition(),this.adjustContentPosition(),this.slideToContentPosition(),this.allTilesOK=!1},e.prototype.resetAnchor=function(e,t){var i=e.id?e.id:"",s=this.childExists(t,i);s&&t.removeChild(s)},e.prototype.redrawAnchor=function(e){if(e.id)for(var t=0;t<this.model.length;t++){var i=this.model[t],s=i.g;if(this.removeFromTree(e,s,i))return!0}return!1},e.prototype.removeFromTree=function(e,t,i){if(t&&this.msEdgeHook(t),e.id)for(var s=0;s<t.children.length;s++){var _=t.children[s];if(_.id==e.id)return t.removeChild(_),this.addGroupTile(t,e,i),!0;if("g"==_.localName&&this.removeFromTree(e,_,i))return!0}return!1},e.prototype.startLoop=function(){this.lastTickTime=(new Date).getTime(),this.tick()},e.prototype.tick=function(){var e=(new Date).getTime();this.lastTickTime+33<e&&(this.allTilesOK||this.queueTiles(),this.lastTickTime=(new Date).getTime()),window.requestAnimationFrame(this.tick.bind(this))},e}(),DataViewStream=function(){function e(e){this.position=0,this.buffer=e}return e.prototype.readUint8=function(){var e=this.buffer.getUint8(this.position);return this.position++,e},e.prototype.readUint16=function(){var e=this.buffer.getUint16(this.position);return this.position=this.position+2,e},e.prototype.readVarInt=function(){for(var e,t=0,i=0;i<4;){if(!(128&(e=this.readUint8())))return t+e;t+=127&e,t<<=7,i++}throw new Error("readVarInt "+i)},e.prototype.readBytes=function(e){for(var t=[],i=0;i<e;i++)t.push(this.readUint8());return t},e.prototype.offset=function(){return this.buffer.byteOffset+this.position},e.prototype.end=function(){return this.position==this.buffer.byteLength},e}(),MIDIFileHeader=function(){function e(e){this.HEADER_LENGTH=14,this.tempoBPM=120,this.meterCount=4,this.meterDivision=4,this.keyFlatSharp=0,this.keyMajMin=0,this.lastNonZeroQuarter=0,this.datas=new DataView(e,0,this.HEADER_LENGTH),this.format=this.datas.getUint16(8),this.trackCount=this.datas.getUint16(10)}return e.prototype.getTickResolution=function(e){return e?this.lastNonZeroQuarter=e:e=this.lastNonZeroQuarter?this.lastNonZeroQuarter:6e7/this.tempoBPM,32768&this.datas.getUint16(12)?1e6/(this.getSMPTEFrames()*this.getTicksPerFrame()):(e=e||5e5)/this.getTicksPerBeat()},e.prototype.getTicksPerBeat=function(){return this.datas.getUint16(12)},e.prototype.getTicksPerFrame=function(){return 255&this.datas.getUint16(12)},e.prototype.getSMPTEFrames=function(){var e=32512&this.datas.getUint16(12);return 29==e?29.97:e},e}(),MIDIFileTrack=function(e,t){this.HDR_LENGTH=8,this.chords=[],this.datas=new DataView(e,t,this.HDR_LENGTH),this.trackLength=this.datas.getUint32(4),this.datas=new DataView(e,t,this.HDR_LENGTH+this.trackLength),this.trackContent=new DataView(this.datas.buffer,this.datas.byteOffset+this.HDR_LENGTH,this.datas.byteLength-this.HDR_LENGTH),this.events=[]},MidiParser=function(){function e(e){this.EVENT_META=255,this.EVENT_SYSEX=240,this.EVENT_DIVSYSEX=247,this.EVENT_MIDI=8,this.EVENT_META_SEQUENCE_NUMBER=0,this.EVENT_META_TEXT=1,this.EVENT_META_COPYRIGHT_NOTICE=2,this.EVENT_META_TRACK_NAME=3,this.EVENT_META_INSTRUMENT_NAME=4,this.EVENT_META_LYRICS=5,this.EVENT_META_MARKER=6,this.EVENT_META_CUE_POINT=7,this.EVENT_META_MIDI_CHANNEL_PREFIX=32,this.EVENT_META_END_OF_TRACK=47,this.EVENT_META_SET_TEMPO=81,this.EVENT_META_SMTPE_OFFSET=84,this.EVENT_META_TIME_SIGNATURE=88,this.EVENT_META_KEY_SIGNATURE=89,this.EVENT_META_SEQUENCER_SPECIFIC=127,this.EVENT_MIDI_NOTE_OFF=8,this.EVENT_MIDI_NOTE_ON=9,this.EVENT_MIDI_NOTE_AFTERTOUCH=10,this.EVENT_MIDI_CONTROLLER=11,this.EVENT_MIDI_PROGRAM_CHANGE=12,this.EVENT_MIDI_CHANNEL_AFTERTOUCH=13,this.EVENT_MIDI_PITCH_BEND=14,this.midiEventType=0,this.midiEventChannel=0,this.midiEventParam1=0,this.header=new MIDIFileHeader(e),this.parseTracks(e)}return e.prototype.parseTracks=function(e){var t=this.header.HEADER_LENGTH,i=this.header.trackCount;this.tracks=[];for(var s=0;s<i;s++){var _=new MIDIFileTrack(e,t);this.tracks.push(_),t=t+_.trackLength+8}for(s=0;s<this.tracks.length;s++)this.parseEvents(this.tracks[s]);this.parseNotes(),this.simplify()},e.prototype.toText=function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t},e.prototype.findChordBefore=function(e,t,i){for(var s=0;s<t.chords.length;s++){var _=t.chords[t.chords.length-s-1];if(_.when<e&&_.channel==i)return _}return null},e.prototype.findOpenedNoteBefore=function(e,t,i,s){for(var _=t,n=this.findChordBefore(_,i,s);n;){for(var r=0;r<n.notes.length;r++){var o=n.notes[r];if(!o.closed&&e==o.points[0].pitch)return{chord:n,note:o}}_=n.when,n=this.findChordBefore(_,i,s)}return null},e.prototype.takeChord=function(e,t,i){for(var s=0;s<t.chords.length;s++)if(t.chords[s].when==e&&t.chords[s].channel==i)return t.chords[s];var _={when:e,channel:i,notes:[]};return t.chords.push(_),_},e.prototype.takeOpenedNote=function(e,t,i,s){for(var _=this.takeChord(t,i,s),n=0;n<_.notes.length;n++)if(!_.notes[n].closed&&_.notes[n].points[0].pitch==e)return _.notes[n];var r={closed:!1,points:[]};return r.points.push({pointDuration:-1,pitch:e}),_.notes.push(r),r},e.prototype.distanceToPoint=function(e,t){var i=(e.p2.y-e.p1.y)/(e.p2.x-e.p1.x),s=e.p1.y-i*e.p1.x,_=[];return _.push(Math.abs(t.y-i*t.x-s)/Math.sqrt(Math.pow(i,2)+1)),_.push(Math.sqrt(Math.pow(t.x-e.p1.x,2)+Math.pow(t.y-e.p1.y,2))),_.push(Math.sqrt(Math.pow(t.x-e.p2.x,2)+Math.pow(t.y-e.p2.y,2))),_.sort(function(e,t){return e-t}),_[0]},e.prototype.douglasPeucker=function(e,t){if(e.length<=2)return[e[0]];for(var i,s=[],_={p1:e[0],p2:e[e.length-1]},n=0,r=0,o=1;o<=e.length-2;o++){var l=this.distanceToPoint(_,e[o]);n<l&&(n=l,r=o)}return s=t<=n?(i=e[r],this.distanceToPoint(_,i),(s=s.concat(this.douglasPeucker(e.slice(0,r+1),t))).concat(this.douglasPeucker(e.slice(r,e.length),t))):(i=e[r],this.distanceToPoint(_,i),[e[0]])},e.prototype.simplifyPath=function(e,t){var i=this.douglasPeucker(e,t);return i.push(e[e.length-1]),i},e.prototype.simplify=function(){for(var e=0;e<this.tracks.length;e++)for(var t=this.tracks[e],i=0;i<t.chords.length;i++)for(var s=t.chords[i],_=0;_<s.notes.length;_++){var n=s.notes[_];if(5<n.points.length){for(var r=0,o=[],l=0;l<n.points.length;l++)n.points[l].pointDuration=Math.max(n.points[l].pointDuration,0),o.push({x:r,y:n.points[l].pitch}),r+=n.points[l].pointDuration;o.push({x:r,y:n.points[n.points.length-1].pitch});var a=this.simplifyPath(o,1.5);n.points=[];for(l=0;l<a.length-1;l++){var f=a[l],h=a[l+1].x-f.x;n.points.push({pointDuration:h,pitch:f.y})}}else 1==n.points.length&&4321<n.points[0].pointDuration&&(n.points[0].pointDuration=1234)}},e.prototype.parseNotes=function(){for(var e=0;e<this.tracks.length;e++){for(var t=this.tracks[e],i=0,s=this.header.getTickResolution(0),_=0;_<t.events.length;_++){var n=0;(r=t.events[_]).delta&&(n=r.delta),i+=n*s/1e3,r.basetype===this.EVENT_META&&r.subtype===this.EVENT_META_SET_TEMPO&&r.tempo&&(s=this.header.getTickResolution(r.tempo)),r.playTime=i}for(var r,o,l,_=0;_<t.events.length;_++){if((r=t.events[_]).basetype==this.EVENT_MIDI)if(r.param1=r.param1?r.param1:0,r.subtype==this.EVENT_MIDI_NOTE_ON)0<=r.param1&&r.param1<=127&&(a=r.param1?r.param1:0,f=0,r.playTime&&(f=r.playTime),this.takeOpenedNote(a,f,t,r.midiChannel?r.midiChannel:0));else if(r.subtype==this.EVENT_MIDI_NOTE_OFF){if(0<=r.param1&&r.param1<=127){var a=r.param1?r.param1:0,f=0;r.playTime&&(f=r.playTime);var h=this.findOpenedNoteBefore(a,f,t,r.midiChannel?r.midiChannel:0);if(h){for(var u=0,d=0;d<h.note.points.length-1;d++)u+=h.note.points[d].pointDuration;h.note.points[h.note.points.length-1].pointDuration=f-h.chord.when-u,h.note.closed=!0}}}else if(r.subtype==this.EVENT_MIDI_PROGRAM_CHANGE)0<=r.param1&&r.param1<=127&&(t.program=r.param1?r.param1:0);else if(r.subtype==this.EVENT_MIDI_PITCH_BEND){var a=r.param1?r.param1:0,p=((r.param2?r.param2:0)-64)/6,f=r.playTime?r.playTime:0,c=this.findChordBefore(f,t,r.midiChannel?r.midiChannel:0);if(c)for(d=0;d<c.notes.length;d++){var v=c.notes[d];if(!v.closed){for(var u=0,S=0;S<v.points.length-1;S++)u+=v.points[S].pointDuration;v.points[v.points.length-1].pointDuration=f-c.when-u;var m={pointDuration:-1,pitch:v.points[0].pitch+p};v.points.push(m)}}}else r.subtype==this.EVENT_MIDI_CONTROLLER&&7==r.param1&&(t.volume=r.param2?r.param2/127:0);else r.subtype,this.EVENT_META_TEXT,r.subtype,this.EVENT_META_COPYRIGHT_NOTICE,r.subtype==this.EVENT_META_TRACK_NAME&&(t.title=this.toText(r.data?r.data:[])),r.subtype==this.EVENT_META_INSTRUMENT_NAME&&(t.instrument=this.toText(r.data?r.data:[])),r.subtype,this.EVENT_META_LYRICS,r.subtype,this.EVENT_META_LYRICS,r.subtype==this.EVENT_META_KEY_SIGNATURE&&(127<(o=r.key?r.key:0)&&(o-=256),this.header.keyFlatSharp=o,this.header.keyMajMin=r.scale?r.scale:0),r.subtype==this.EVENT_META_SET_TEMPO&&(this.header.tempoBPM=r.tempoBPM?r.tempoBPM:120),r.subtype==this.EVENT_META_TIME_SIGNATURE&&(this.header.meterCount=r.param1?r.param1:4,1==(l=r.param2?r.param2:2)?this.header.meterDivision=2:2==l?this.header.meterDivision=4:3==l?this.header.meterDivision=8:4==l?this.header.meterDivision=16:5==l&&(this.header.meterDivision=32))}}},e.prototype.nextEvent=function(e){var t=e.offset(),i=e.readVarInt(),s=e.readUint8(),_={offset:t,delta:i,eventTypeByte:s};if(240==(240&s)){if(s!==this.EVENT_META)return s===this.EVENT_SYSEX||s===this.EVENT_DIVSYSEX?(_.basetype=s,_.length=e.readVarInt()):(_.basetype=s,_.badsubtype=e.readVarInt(),_.length=e.readUint8()),_.data=e.readBytes(_.length),_;switch(_.basetype=this.EVENT_META,_.subtype=e.readUint8(),_.length=e.readVarInt(),_.subtype){case this.EVENT_META_SEQUENCE_NUMBER:return _.msb=e.readUint8(),_.lsb=e.readUint8(),console.log("EVENT_META_SEQUENCE_NUMBER",_),_;case this.EVENT_META_TEXT:case this.EVENT_META_COPYRIGHT_NOTICE:case this.EVENT_META_TRACK_NAME:case this.EVENT_META_INSTRUMENT_NAME:case this.EVENT_META_LYRICS:case this.EVENT_META_MARKER:case this.EVENT_META_CUE_POINT:return _.data=e.readBytes(_.length),_.text=this.toText(_.data?_.data:[]),_;case this.EVENT_META_MIDI_CHANNEL_PREFIX:return _.prefix=e.readUint8(),_;case this.EVENT_META_END_OF_TRACK:return _;case this.EVENT_META_SET_TEMPO:return _.tempo=(e.readUint8()<<16)+(e.readUint8()<<8)+e.readUint8(),_.tempoBPM=6e7/_.tempo,_;case this.EVENT_META_SMTPE_OFFSET:return _.hour=e.readUint8(),_.minutes=e.readUint8(),_.seconds=e.readUint8(),_.frames=e.readUint8(),_.subframes=e.readUint8(),_;case this.EVENT_META_KEY_SIGNATURE:return _.key=e.readUint8(),_.scale=e.readUint8(),_;case this.EVENT_META_TIME_SIGNATURE:return _.data=e.readBytes(_.length),_.param1=_.data[0],_.param2=_.data[1],_.param3=_.data[2],_.param4=_.data[3],_;case this.EVENT_META_SEQUENCER_SPECIFIC:default:return _.data=e.readBytes(_.length),_}}else{if(0==(128&s)){if(!this.midiEventType)throw new Error("no pre event"+e.offset());this.midiEventParam1=s}else this.midiEventType=s>>4,this.midiEventChannel=15&s,this.midiEventParam1=e.readUint8();switch(_.basetype=this.EVENT_MIDI,_.subtype=this.midiEventType,_.midiChannel=this.midiEventChannel,_.param1=this.midiEventParam1,this.midiEventType){case this.EVENT_MIDI_NOTE_OFF:return _.param2=e.readUint8(),_;case this.EVENT_MIDI_NOTE_ON:return _.param2=e.readUint8(),_.param2||(_.subtype=this.EVENT_MIDI_NOTE_OFF,_.param2=127),_;case this.EVENT_MIDI_NOTE_AFTERTOUCH:return _.param2=e.readUint8(),_;case this.EVENT_MIDI_CONTROLLER:return _.param2=e.readUint8(),_.param1,_;case this.EVENT_MIDI_PROGRAM_CHANGE:case this.EVENT_MIDI_CHANNEL_AFTERTOUCH:return _;case this.EVENT_MIDI_PITCH_BEND:return _.param2=e.readUint8(),_;default:return _}}},e.prototype.parseEvents=function(e){var t=new DataViewStream(e.trackContent);for(this.midiEventType=0,this.midiEventChannel=0,this.midiEventParam1=0;!t.end();){var i=this.nextEvent(t);e.events.push(i)}},e.prototype.takeMeasure=function(e,t,i,s){for(var _,n=1e3*(60/i)*s*4,r=Math.floor(t/n),o=0;o<=r;o++){e.measures.length<1+r&&(_={duration:n,chords:[]},e.measures.push(_))}return e.measures[r]},e.prototype.takeDrumVoice=function(e,t){for(var i=0;i<t.length;i++)if(t[i].drum==e)return t[i];var s={voice:{chunks:[],source:{plugin:new ZvoogFilterSourceEmpty,parameters:[]},effects:[],title:"Drum "+e},drum:e};return t.push(s),s},e.prototype.meter44=function(){return[{duration:24,power:3},{duration:24,power:0},{duration:24,power:0},{duration:24,power:0},{duration:24,power:1},{duration:24,power:0},{duration:24,power:0},{duration:24,power:0},{duration:24,power:2},{duration:24,power:0},{duration:24,power:0},{duration:24,power:0},{duration:24,power:1},{duration:24,power:0},{duration:24,power:0},{duration:24,power:0}]},e.prototype.meter24=function(){return[{duration:24,power:3},{duration:24,power:0},{duration:24,power:0},{duration:24,power:0},{duration:24,power:1},{duration:24,power:0},{duration:24,power:0},{duration:24,power:0}]},e.prototype.meter54=function(){return[{duration:24,power:3},{duration:24,power:0},{duration:24,power:0},{duration:24,power:0},{duration:24,power:1},{duration:24,power:0},{duration:24,power:0},{duration:24,power:0},{duration:24,power:1},{duration:24,power:0},{duration:24,power:0},{duration:24,power:0},{duration:24,power:1},{duration:24,power:0},{duration:24,power:0},{duration:24,power:0},{duration:24,power:1},{duration:24,power:0},{duration:24,power:0},{duration:24,power:0}]},e.prototype.meter34=function(){return[{duration:24,power:3},{duration:24,power:0},{duration:24,power:0},{duration:24,power:0},{duration:24,power:1},{duration:24,power:0},{duration:24,power:0},{duration:24,power:0},{duration:24,power:1},{duration:24,power:0},{duration:24,power:0},{duration:24,power:0}]},e.prototype.convert=function(){var e=this.dump(),t=this.meter44();2==e.meter.count&&4==e.meter.division&&(t=this.meter24()),3==e.meter.count&&4==e.meter.division&&(t=this.meter34()),5==e.meter.count&&4==e.meter.division&&(t=this.meter54());for(var i={title:"import from *.mid",description:"none",tracks:[],effects:[],macros:[],macroPosition:2,masterPosition:1,gridPattern:t,keyPattern:[],horizontal:!0,locked:!1,selectedTrack:0,selectedVoice:0},s=0;s<10;s++)i.keyPattern.push(3),i.keyPattern.push(2),i.keyPattern.push(1),i.keyPattern.push(2),i.keyPattern.push(1),i.keyPattern.push(1),i.keyPattern.push(2),i.keyPattern.push(1),i.keyPattern.push(2),i.keyPattern.push(1),i.keyPattern.push(2),i.keyPattern.push(1);for(var _=0;_<e.tracks.length;_++){for(var n=e.tracks[_],r={voices:[],effects:[],title:"track "+_+" "+n.title,strings:[]},o={chunks:[],source:{plugin:new ZvoogFilterSourceEmpty,parameters:[]},effects:[],title:"MIDI "+n.program},l=0,a=0;a<n.measures.length;a++){for(var f=n.measures[a],h={meter:{count:e.meter.count,division:e.meter.division},tempo:Math.round(e.bpm),chords:[],title:"start at "+l,clefHint:0,keyHint:0},u=0;u<f.chords.length;u++){var d=f.chords[u],p={when:time2Duration((d.when-l)/1e3,e.bpm),values:[],title:"",fretHint:[],text:""};if(9!=d.channel)for(var c=0;c<d.notes.length;c++){var v=d.notes[c],S={envelope:[],stepHint:0,shiftHint:0,octaveHint:0};p.values.push(S);for(var m=0;m<v.points.length;m++){var G={duration:time2Duration((C=v.points[m]).duration/1e3,e.bpm),pitch:C.pitch};S.envelope.push(G)}}h.chords.push(p)}o.chunks.push(h),l+=f.duration}r.voices.push(o);for(var L=[],a=0;a<n.measures.length;a++)for(f=n.measures[a],u=0;u<f.chords.length;u++){var g=f.chords[u];if(9==g.channel)for(c=0;c<g.notes.length;c++)for(var y=g.notes[c],m=0;m<y.points.length;m++){var C=y.points[m];this.takeDrumVoice(C.pitch,L)}}for(var M=0;M<L.length;M++){var B=L[M].voice;r.voices.push(B);for(l=0,a=0;a<n.measures.length;a++){f=n.measures[a],h={meter:{count:e.meter.count,division:e.meter.division},tempo:Math.round(e.bpm),chords:[],title:"start at "+l,clefHint:0,keyHint:0};B.chunks.push(h);for(u=0;u<f.chords.length;u++){var T=f.chords[u];if(9==T.channel){for(p={when:time2Duration((T.when-l)/1e3,e.bpm),values:[],title:"",fretHint:[],text:""},c=0;c<T.notes.length;c++){(C=(v=T.notes[c]).points[0]).pitch==L[M].drum&&(S={envelope:[],stepHint:0,shiftHint:0,octaveHint:0},G={duration:time2Duration(C.duration/1e3,e.bpm),pitch:C.pitch},S.envelope.push(G),p.values.push(S))}p.values.length&&h.chords.push(p)}}l+=f.duration}}i.tracks.push(r)}return i},e.prototype.dump=function(){for(var e={parser:"1.01",duration:0,bpm:this.header.tempoBPM,key:this.header.keyFlatSharp,mode:this.header.keyMajMin,meter:{count:this.header.meterCount,division:this.header.meterDivision},tracks:[],speedMode:0,lineMode:0},t=0;t<this.tracks.length;t++){for(var i,s=this.tracks[t],_={order:t,title:s.title?s.title:"",volume:s.volume?s.volume:1,program:s.program?s.program:0,measures:[]},n=0;n<s.chords.length;n++){var r=s.chords[n],o={when:r.when,notes:[],channel:r.channel};this.takeMeasure(_,r.when,this.header.tempoBPM,this.header.meterCount/this.header.meterDivision).chords.push(o);for(var l=0;l<r.notes.length;l++){var a=r.notes[l],f={points:[]};o.notes.push(f);for(var h=0;h<a.points.length;h++){var u=a.points[h],d={pitch:u.pitch,duration:u.pointDuration};f.points.push(d)}}}0<_.measures.length&&(e.tracks.push(_),i=_.measures.length*_.measures[0].duration,e.duration<i&&(e.duration=i))}return e},e}();console.log("ZvoogApp v1.01");var ZvoogApp=function(){function e(){this.minZoom=1,this.maxZoom=1024,this.menuStyleWidth="7cm",this.gridIndentUp=256,this.gridIndentDown=10,this.gridIndentLeft=10,this.gridIndentRight=10,this.lengthOfSecond=50,this.noteLineWidth=3,this.undoRedo=new ZvoogUndoRedo(this),this.lang=new ZvoogLang,this.popup=new ZvoogPopup(this),console.log("ZvoogApp init")}return e.prototype.start=function(){console.log("ZvoogApp start");var e=new TestSong;this.currentSong=e.createRandomSchedule(),console.log(this.currentSong);var t=document.getElementById("mainMenuDiv");t&&(t.addEventListener("touchstart",this.preventTouch.bind(this),{capture:!0,passive:!1}),t.addEventListener("touchmove",this.preventTouch.bind(this),{capture:!0,passive:!1}),t.addEventListener("touchend",this.preventTouch.bind(this),{capture:!0,passive:!1}));var i=this.createLayers();this.tileLevel=new TileLevel(document.getElementById("contentSVG"),100,100,this.minZoom,20,this.maxZoom-.001,i),this.tileLevel.afterResizeCallback=this.afterResizeCallback.bind(this),this.tileLevel.afterZoomCallback=this.afterZoomCallback.bind(this);var s=document.getElementById("filesinput");s&&s.addEventListener("change",this.handleFileSelect.bind(this),!1),this.afterResizeCallback()},e.prototype.preventTouch=function(e){1<e.touches.length&&e.preventDefault()},e.prototype.handleFileSelect=function(e){var t=e.target.files[0],i=new FileReader,s=this;i.onload=function(e){var t;e.target&&(t=e.target.result,s.parseMIDI(t))},i.readAsArrayBuffer(t)},e.prototype.parseMIDI=function(e){var t=new MidiParser(e);console.log(t.dump()),this.currentSong=t.convert(),this.resetWholeProject()},e.prototype.afterResizeCallback=function(){var e=Math.floor(this.tileLevel.viewWidth/this.tileLevel.tapSize);this.menuStyleWidth=e<7?"5cm":12<e?"12cm":"7cm",this.resetWholeProject()},e.prototype.afterZoomCallback=function(){},e.prototype.addMainIconButton=function(e,t,i,s,_,n,r){n.push({x:e,y:t,w:i,h:i,rx:.5*i,ry:.5*i,css:"fillButtonSpot",action:r.bind(this)}),n.push(this.tileLevel.pathImage(e+.3*i-.1,t+.8*i-.6,.05,"M487.298,326.733l-62.304-37.128l62.304-37.128c2.421-1.443,3.904-4.054,3.904-6.872s-1.483-5.429-3.904-6.872 l-62.304-37.128l62.304-37.128c3.795-2.262,5.038-7.172,2.776-10.968c-0.68-1.142-1.635-2.096-2.776-2.776l-237.6-141.6 c-2.524-1.504-5.669-1.504-8.192,0l-237.6,141.6c-3.795,2.262-5.038,7.172-2.776,10.968c0.68,1.142,1.635,2.096,2.776,2.776 l62.304,37.128L3.905,238.733c-3.795,2.262-5.038,7.172-2.776,10.968c0.68,1.142,1.635,2.096,2.776,2.776l62.304,37.128 L3.905,326.733c-3.795,2.262-5.038,7.172-2.776,10.968c0.68,1.142,1.635,2.096,2.776,2.776l237.6,141.6 c2.526,1.494,5.666,1.494,8.192,0l237.6-141.6c3.795-2.262,5.038-7.172,2.776-10.968 C489.393,328.368,488.439,327.414,487.298,326.733z M23.625,157.605L245.601,25.317l221.976,132.288L245.601,289.893 L23.625,157.605z M23.625,245.605l58.208-34.68l159.672,95.2c2.524,1.504,5.668,1.504,8.192,0l159.672-95.2l58.208,34.68 L245.601,377.893L23.625,245.605z M245.601,465.893L23.625,333.605l58.208-34.68l159.672,95.2c2.524,1.504,5.668,1.504,8.192,0 l159.672-95.2l58.208,34.68L245.601,465.893z","fillColorContent")),n.push({x:e,y:t,w:i,h:i,css:"fillButtonActionPoint",action:r.bind(this)})},e.prototype.addMainTextButton=function(e,t,i,s,_,n,r){n.push({x:e,y:t,w:i,h:i,rx:.5*i,ry:.5*i,css:"fillButtonSpot",action:r.bind(this)}),n.push({x:e+.3*i,y:t+.8*i,css:_+" fillColorContent",text:s}),n.push({x:e,y:t,w:i,h:i,css:"fillButtonActionPoint",action:r.bind(this)})},e.prototype.addBlockedTextButton=function(e,t,i,s,_,n){n.push({x:e,y:t,w:i,h:i,rx:.5*i,ry:.5*i,css:"fillButtonSpot"}),n.push({x:e+.3*i,y:t+.8*i,css:_+" fillColorSub",text:s})},e.prototype.resetButtons=function(){this.workButtonsGroup.content.length=0,this.overButtonsAnchor.content.length=0,this.addMainTextButton(0,0,32,"import","fontSize16",this.workButtonsGroup.content,this.importTestMIDI),this.addMainTextButton(32,32,128,this.currentSong.title,"fontSize128",this.workButtonsGroup.content,this.promptTitle),this.addMainTextButton(256,224,32,this.currentSong.description,"fontSize16",this.workButtonsGroup.content,this.promptDescription),0<this.currentSong.macros.length&&this.currentSong.macroPosition<this.currentSong.macros.length?this.addMainTextButton(this.tileLevel.viewWidth/this.tileLevel.tapSize-1.5,.5,1,this.lang.label("redo"),"fontSize05",this.overButtonsAnchor.content,this.clickRedo):this.addBlockedTextButton(this.tileLevel.viewWidth/this.tileLevel.tapSize-1.5,.5,1,this.lang.label("redo"),"fontSize05",this.overButtonsAnchor.content),0<this.currentSong.macros.length&&0<this.currentSong.macroPosition?this.addMainTextButton(this.tileLevel.viewWidth/this.tileLevel.tapSize-3,.5,1,this.lang.label("undo"),"fontSize05",this.overButtonsAnchor.content,this.clickUndo):this.addBlockedTextButton(this.tileLevel.viewWidth/this.tileLevel.tapSize-3,.5,1,this.lang.label("undo"),"fontSize05",this.overButtonsAnchor.content),this.addMainIconButton(this.tileLevel.viewWidth/this.tileLevel.tapSize-1.5,this.tileLevel.viewHeight/this.tileLevel.tapSize-1.5,1,this.lang.label("menu"),"fontSize05",this.overButtonsAnchor.content,this.openLayersMenu),this.addMainTextButton(.5,.5,1,this.lang.label("menu"),"fontSize05",this.overButtonsAnchor.content,this.openLayersPopup)},e.prototype.openLayersPopup=function(){var e=[{label:"test menu item",action:function(){console.log("1")},subMenu:[]},{label:"another test",action:function(){console.log("2")},subMenu:[]},{label:"test3 sub meny",subMenu:[{label:"sub test menu item",action:function(){console.log("3")},subSubMenu:[]},{label:"sub another test",subSubMenu:[{label:"sub test menu item",action:function(){console.log("4")}},{label:"sub another test",action:function(){console.log("5")}},{label:"sub test3",action:function(){console.log("6")}}]},{label:"sub test3",action:function(){console.log("7")},subSubMenu:[]}]}];this.popup.showPopupMenu(-this.tileLevel.translateX/this.tileLevel.tapSize,-this.tileLevel.translateY/this.tileLevel.tapSize,this.tileLevel.translateZ,200,32,e)},e.prototype.importTestMIDI=function(){console.log("importTestMIDI");var e=document.getElementById("filesinput");e&&e.click()},e.prototype.createMoveUpVoice=function(e,t){var i=this;return function(){i.undoRedo.addRedo({key:undoRedoMoveVoice,point:i.uiTapPosition(),properties:{oldTrackPosition:i.currentSong.selectedTrack,newTrackPosition:e,oldVoicePosition:i.currentSong.selectedVoice,newVoicePosition:t}}),i.openLayersMenu()}},e.prototype.createMoveUpTrack=function(e){var t=this;return function(){t.undoRedo.addRedo({key:undoRedoMoveTrack,point:t.uiTapPosition(),properties:{oldTrackPosition:t.currentSong.selectedTrack,newTrackPosition:e,oldVoicePosition:t.currentSong.selectedVoice,newVoicePosition:0}}),t.openLayersMenu()}},e.prototype.promptTitle=function(){var e=window.prompt("Title",this.currentSong.title);e&&e!=this.currentSong.title&&this.undoRedo.addRedo({key:undoRedoChangeProjectTitle,point:this.uiTapPosition(),properties:{newTitle:e,oldTitle:this.currentSong.title}})},e.prototype.promptDescription=function(){var e=window.prompt("Description",this.currentSong.title);e&&e!=this.currentSong.description&&this.undoRedo.addRedo({key:undoRedoChangeProjectDescription,point:this.uiTapPosition(),properties:{newDescription:e,oldDescription:this.currentSong.description}})},e.prototype.uiTapPosition=function(){return{x:-this.tileLevel.translateX/this.tileLevel.tapSize,y:-this.tileLevel.translateY/this.tileLevel.tapSize,z:this.tileLevel.translateZ}},e.prototype.clickRedo=function(){var e=this.undoRedo.doRedo();e&&this.tileLevel.startSlideTo(-e.x*this.tileLevel.tapSize,-e.y*this.tileLevel.tapSize,e.z,null)},e.prototype.openLayersMenu=function(){var e=this;console.log(this.currentSong);for(var t=[],i=0;i<this.currentSong.tracks.length;i++){var s=this.currentSong.tracks[i];if(i==this.currentSong.selectedTrack){t.push({label:s.title,power:0,subpadding:!1,action:function(){return console.log("skip track")}});for(var _=0;_<s.voices.length;_++){var n=s.voices[_];_==this.currentSong.selectedVoice?t.push({label:n.title,power:2,subpadding:!0,action:function(){return console.log("skip voice")}}):t.push({label:n.title,power:1,subpadding:!0,action:this.createMoveUpVoice(i,_)})}}else t.push({label:s.title,power:0,subpadding:!1,action:this.createMoveUpTrack(i)})}var r=document.getElementById("mainMenuDiv");r&&r.style.width==this.menuStyleWidth?(this.closeLayersMenu(),setTimeout(function(){e.showLayersMenu(t)},200)):this.showLayersMenu(t)},e.prototype.showLayersMenu=function(e){console.log("showLayersMenu");var t=document.getElementById("menuItemRows");if(t){for(var i=0;i<e.length;i++){var s=document.createElement("div");1==e[i].power?e[i].subpadding?s.classList.add("subMenuSelected1"):s.classList.add("mainMenuSelected1"):2==e[i].power?e[i].subpadding?s.classList.add("subMenuSelected2"):s.classList.add("mainMenuSelected2"):e[i].subpadding?s.classList.add("subMenuButtonRow"):s.classList.add("mainMenuButtonRow");var _=document.createElement("div");s.append(_);var n=document.createElement("div");s.append(n);var r=document.createElement("svg"),o=document.createElementNS(this.tileLevel.svgns,"path");o.setAttributeNS(null,"d","M487.298,326.733l-62.304-37.128l62.304-37.128c2.421-1.443,3.904-4.054,3.904-6.872s-1.483-5.429-3.904-6.872 l-62.304-37.128l62.304-37.128c3.795-2.262,5.038-7.172,2.776-10.968c-0.68-1.142-1.635-2.096-2.776-2.776l-237.6-141.6 c-2.524-1.504-5.669-1.504-8.192,0l-237.6,141.6c-3.795,2.262-5.038,7.172-2.776,10.968c0.68,1.142,1.635,2.096,2.776,2.776 l62.304,37.128L3.905,238.733c-3.795,2.262-5.038,7.172-2.776,10.968c0.68,1.142,1.635,2.096,2.776,2.776l62.304,37.128 L3.905,326.733c-3.795,2.262-5.038,7.172-2.776,10.968c0.68,1.142,1.635,2.096,2.776,2.776l237.6,141.6 c2.526,1.494,5.666,1.494,8.192,0l237.6-141.6c3.795-2.262,5.038-7.172,2.776-10.968 C489.393,328.368,488.439,327.414,487.298,326.733z M23.625,157.605L245.601,25.317l221.976,132.288L245.601,289.893 L23.625,157.605z M23.625,245.605l58.208-34.68l159.672,95.2c2.524,1.504,5.668,1.504,8.192,0l159.672-95.2l58.208,34.68 L245.601,377.893L23.625,245.605z M245.601,465.893L23.625,333.605l58.208-34.68l159.672,95.2c2.524,1.504,5.668,1.504,8.192,0 l159.672-95.2l58.208,34.68L245.601,465.893z"),_.classList.add("menuRowIcon"),r.setAttributeNS(null,"viewBox","0 0 491.203 491.203"),r.appendChild(o),_.append(r),n.innerText=e[i].label;e[i].action;s.onclick=e[i].action,t.appendChild(s),console.dir(r)}(s=document.createElement("div")).innerHTML="&nbsp;",s.classList.add("mainMenuButtonRow"),t.appendChild(s),(s=document.createElement("div")).innerHTML="&nbsp;",s.classList.add("mainMenuButtonRow"),t.appendChild(s),t.scrollTop=0}var l=document.getElementById("menuTitleText");l&&(l.style.width=l.innerText=this.lang.label("layersMenuTitle"));var a=document.getElementById("mainMenuDiv");a&&(a.style.width=this.menuStyleWidth)},e.prototype.closeLayersMenu=function(){console.log("closeLayersMenu"),document.getElementById("mainMenuDiv").style.width="0cm"},e.prototype.clickUndo=function(){var e=this.undoRedo.doUndo();e&&this.tileLevel.startSlideTo(-e.x*this.tileLevel.tapSize,-e.y*this.tileLevel.tapSize,e.z,null)},e.prototype.resetNotes=function(){this.firstAnchor.content.length=0,this.secondAnchor.content.length=0;for(var e=this.otherAnchor.content.length=0;e<this.currentSong.tracks.length;e++)for(var t=this.currentSong.tracks[e],i=0;i<t.voices.length;i++)for(var s=t.voices[i],_=0,n=0;n<s.chunks.length;n++){var r=s.chunks[n],o=this.tileLevel.anchor(this.gridIndentLeft+_,this.gridIndentUp,this.patternDuration(r)*this.lengthOfSecond*4,120*this.noteLineWidth,this.minZoom,this.maxZoom);e==this.currentSong.selectedTrack&&i==this.currentSong.selectedVoice?(this.firstAnchor.content.push(o),this.addChordNotes(o,_,r,"firstLine")):e==this.currentSong.selectedTrack&&i!=this.currentSong.selectedVoice?(this.secondAnchor.content.push(o),this.addChordNotes(o,_,r,"secondLine")):(this.otherAnchor.content.push(o),this.addChordNotes(o,_,r,"otherLine")),_+=this.patternDuration(r)*this.lengthOfSecond}},e.prototype.addChordNotes=function(e,t,i,s){for(var _=0;_<i.chords.length;_++)for(var n=i.chords[_],r=0;r<n.values.length;r++){var o=n.values[r];this.addNoteLine(e,t,i,n,o,s)}},e.prototype.addNoteLine=function(e,t,i,s,_,n){for(var r=this.gridIndentLeft+t+duration2time(i.tempo,s.when)*this.lengthOfSecond,o=this.gridIndentUp+(119.5-_.envelope[0].pitch)*this.noteLineWidth,l=r,a=0;a<_.envelope.length;a++){var f=duration2time(i.tempo,_.envelope[a].duration)*this.lengthOfSecond,h=0;_.envelope.length>a+1&&(h=_.envelope[a].pitch-_.envelope[a+1].pitch);var u=0;0<a&&(u=this.noteLineWidth),e.content.push(this.tileLevel.line(l+.5*this.noteLineWidth-u,o,l+f-.5*this.noteLineWidth,o+h*this.noteLineWidth,n)),o+=h*this.noteLineWidth,l+=f}},e.prototype.resetGrid=function(){this.keyZoomAnchor.content.length=0,this.keyWholeAnchor.content.length=0,this.meterPatternAnchor.content.length=0,this.labelsOctaveAnchor16.content.length=0,this.labelsOctaveAnchor8.content.length=0,this.labelsOctaveAnchor4.content.length=0,this.labelsOctaveAnchor2.content.length=0,this.labelsBottomAnchor256.content.length=0,this.labelsBottomAnchor64.content.length=0,this.labelsBottomAnchor16.content.length=0;var e=this.labelsBottomAnchor4.content.length=0;if(this.currentSong.tracks.length>this.currentSong.selectedTrack){var t=this.currentSong.tracks[this.currentSong.selectedTrack];if(t.voices.length>this.currentSong.selectedVoice)for(var i=t.voices[this.currentSong.selectedVoice],s=0;s<i.chunks.length;s++){var _=i.chunks[s],n={xx:this.gridIndentLeft+e,yy:this.gridIndentUp,ww:this.patternDuration(_)*this.lengthOfSecond,hh:120*this.noteLineWidth,showZoom:this.minZoom,hideZoom:25,content:[]};this.meterPatternAnchor.content.push(n);for(var r=0,o=0;o<duration384(_.meter)&&r<this.currentSong.gridPattern.length;){var l=this.currentSong.gridPattern[r],a=duration2time(_.tempo,o)*this.lengthOfSecond,f=.05;0<l.power&&(f=.1),1<l.power&&(f=.3),2<l.power&&(f=.7),(0<o||0<s)&&n.content.push({x:this.gridIndentLeft+e+a,y:this.gridIndentUp,w:f,h:120*this.noteLineWidth,css:"meterLine"}),o+=l.duration,++r>this.currentSong.gridPattern.length&&(r=0)}(s+1)%10==0&&0<s&&this.labelsBottomAnchor256.content.push(this.tileLevel.text(this.gridIndentLeft+e,0,""+(1+s),"barNum256")),s%2==0&&this.labelsBottomAnchor64.content.push(this.tileLevel.text(this.gridIndentLeft+e,0,""+(1+s),"barNum64")),this.labelsBottomAnchor16.content.push(this.tileLevel.text(this.gridIndentLeft+e,0,""+(1+s),"barNum16")),this.labelsBottomAnchor4.content.push(this.tileLevel.text(this.gridIndentLeft+e,0,""+(1+s),"barNum4")),e+=this.patternDuration(_)*this.lengthOfSecond}}this.keyZoomAnchor.ww=e,this.keyWholeAnchor.ww=e;for(var h=0;h<120;h++){this.currentSong.keyPattern[h]&&(u="keyFillWhite",1<this.currentSong.keyPattern[h]&&(u="keyFillBlack"),2<this.currentSong.keyPattern[h]&&(u="keyFillWhite"),this.keyZoomAnchor.content.push({x:this.gridIndentLeft,y:this.gridIndentUp+(120-h-1)*this.noteLineWidth,w:e,h:.9*this.noteLineWidth,css:u}),0<h&&2<this.currentSong.keyPattern[h]&&this.keyZoomAnchor.content.push({x:this.gridIndentLeft,y:this.gridIndentUp+(120-h-.05)*this.noteLineWidth,w:e,h:.1*this.noteLineWidth,css:"meterLine"}))}for(h=0;h<10;h++){var u=h%2?"keyFillBlack":"keyFillWhite";this.keyWholeAnchor.content.push({x:this.gridIndentLeft,y:this.gridIndentUp+(120-12*h-12)*this.noteLineWidth,w:e,h:12*this.noteLineWidth,css:u}),this.labelsOctaveAnchor16.content.push(this.tileLevel.text(0,this.gridIndentUp+(120-12*h)*this.noteLineWidth,""+(1+h),"octaveLabel16")),this.labelsOctaveAnchor8.content.push(this.tileLevel.text(0,this.gridIndentUp+(120-12*h-.25)*this.noteLineWidth,""+(1+h),"octaveLabel8")),this.labelsOctaveAnchor4.content.push(this.tileLevel.text(0,this.gridIndentUp+(120-12*h-.5)*this.noteLineWidth,""+(1+h),"octaveLabel4")),this.labelsOctaveAnchor2.content.push(this.tileLevel.text(0,this.gridIndentUp+(120-12*h-.75)*this.noteLineWidth,""+(1+h),"octaveLabel2"))}},e.prototype.resetTrackVoiceName=function(){this.labelsStaticAnchor.content.length=0;var e,t="",i="";this.currentSong.selectedTrack<this.currentSong.tracks.length&&(t=(e=this.currentSong.tracks[this.currentSong.selectedTrack]).title,this.currentSong.selectedVoice<e.voices.length&&(i=e.voices[this.currentSong.selectedVoice].title)),this.labelsStaticAnchor.content.push(this.tileLevel.text(2,-this.tileLevel.viewWidth/this.tileLevel.tapSize+1.5,t,"overLabelTrack")),this.labelsStaticAnchor.content.push(this.tileLevel.text(2,-this.tileLevel.viewWidth/this.tileLevel.tapSize+2,i,"overLabelVoice"))},e.prototype.createLayers=function(){var e=[];return this.overButtonsAnchor={xx:0,yy:0,ww:1,hh:1,showZoom:this.minZoom,hideZoom:this.maxZoom,content:[]},this.labelsStaticAnchor={xx:0,yy:0,ww:1,hh:1,showZoom:this.minZoom,hideZoom:120,content:[]},this.labelsOctaveAnchor16={xx:0,yy:0,ww:1,hh:1,showZoom:8,hideZoom:16,content:[]},this.labelsOctaveAnchor8={xx:0,yy:0,ww:1,hh:1,showZoom:4,hideZoom:8,content:[]},this.labelsOctaveAnchor4={xx:0,yy:0,ww:1,hh:1,showZoom:2,hideZoom:4,content:[]},this.labelsOctaveAnchor2={xx:0,yy:0,ww:1,hh:1,showZoom:this.minZoom,hideZoom:2,content:[]},this.labelsBottomAnchor4={xx:0,yy:0,ww:1,hh:1,showZoom:this.minZoom,hideZoom:4,content:[]},this.labelsBottomAnchor16={xx:0,yy:0,ww:1,hh:1,showZoom:4,hideZoom:16,content:[]},this.labelsBottomAnchor64={xx:0,yy:0,ww:1,hh:1,showZoom:16,hideZoom:64,content:[]},this.labelsBottomAnchor256={xx:0,yy:0,ww:1,hh:1,showZoom:64,hideZoom:this.maxZoom,content:[]},this.keyZoomAnchor={xx:0,yy:this.gridIndentUp,ww:1,hh:120*this.noteLineWidth,showZoom:this.minZoom,hideZoom:25,content:[]},this.keyWholeAnchor={xx:0,yy:this.gridIndentUp,ww:1,hh:120*this.noteLineWidth,showZoom:25,hideZoom:this.maxZoom,content:[]},this.meterPatternAnchor={xx:0,yy:0,ww:1,hh:1,showZoom:this.minZoom,hideZoom:this.maxZoom,content:[]},this.firstAnchor={xx:0,yy:0,ww:1,hh:1,showZoom:this.minZoom,hideZoom:256,content:[]},this.secondAnchor={xx:0,yy:0,ww:1,hh:1,showZoom:this.minZoom,hideZoom:50,content:[]},this.otherAnchor={xx:0,yy:0,ww:1,hh:1,showZoom:this.minZoom,hideZoom:25,content:[]},this.workButtonsGroup={xx:0,yy:0,ww:1,hh:1,showZoom:this.minZoom,hideZoom:this.maxZoom,content:[]},this.popupMenuGroup={xx:0,yy:0,ww:1,hh:1,showZoom:this.minZoom,hideZoom:this.maxZoom,content:[]},this.popupSubMenuGroup={xx:0,yy:0,ww:1,hh:1,showZoom:this.minZoom,hideZoom:this.maxZoom,content:[]},this.popupSubSubMenuGroup={xx:0,yy:0,ww:1,hh:1,showZoom:this.minZoom,hideZoom:this.maxZoom,content:[]},e.push({g:document.getElementById("overButtonsGroup"),anchors:[this.overButtonsAnchor],overlay:1}),e.push({g:document.getElementById("labelsStaticGroup"),anchors:[this.labelsStaticAnchor],overlay:1}),e.push({g:document.getElementById("labelsBottomGroup"),anchors:[this.labelsBottomAnchor4,this.labelsBottomAnchor16,this.labelsBottomAnchor64,this.labelsBottomAnchor256],stickBottom:1}),e.push({g:document.getElementById("labelsLeftGroup"),anchors:[this.labelsOctaveAnchor16,this.labelsOctaveAnchor8,this.labelsOctaveAnchor4,this.labelsOctaveAnchor2],stickLeft:0}),e.push({g:document.getElementById("keyPatternGroup"),anchors:[this.keyZoomAnchor,this.keyWholeAnchor]}),e.push({g:document.getElementById("meterPatternGroup"),anchors:[this.meterPatternAnchor]}),e.push({g:document.getElementById("otherVoicesGroup"),anchors:[this.otherAnchor]}),e.push({g:document.getElementById("secondaryVoicesGroup"),anchors:[this.secondAnchor]}),e.push({g:document.getElementById("mainVoiceGroup"),anchors:[this.firstAnchor]}),e.push({g:document.getElementById("workButtonsGroup"),anchors:[this.workButtonsGroup]}),this.popupLayer={g:document.getElementById("popupGroup"),anchors:[this.popupMenuGroup,this.popupSubMenuGroup,this.popupSubSubMenuGroup]},e.push(this.popupLayer),e},e.prototype.resetWholeProject=function(){this.resetFieldSize(),this.resetButtons(),this.resetGrid(),this.resetNotes(),this.resetTrackVoiceName(),this.tileLevel.resetModel()},e.prototype.patternDuration=function(e){return duration2time(e.tempo,duration384(e.meter))},e.prototype.voiceDuration=function(e){for(var t=0,i=0;i<e.chunks.length;i++)t+=this.patternDuration(e.chunks[i]);return t},e.prototype.trackDuration=function(e){for(var t=0,i=0;i<e.voices.length;i++){var s=this.voiceDuration(e.voices[i]);t<s&&(t=s)}return t},e.prototype.wholeDuration=function(e){for(var t=0,i=0;i<e.tracks.length;i++){var s=this.trackDuration(e.tracks[i]);t<s&&(t=s)}return t},e.prototype.resetFieldSize=function(){this.tileLevel.innerWidth=this.tileLevel.tapSize*(this.gridIndentLeft+this.wholeDuration(this.currentSong)*this.lengthOfSecond+this.gridIndentRight),this.tileLevel.innerHeight=this.tileLevel.tapSize*(this.gridIndentUp+120*this.noteLineWidth+this.gridIndentDown),this.firstAnchor.ww=this.tileLevel.innerWidth/this.tileLevel.tapSize,this.firstAnchor.hh=this.tileLevel.innerHeight/this.tileLevel.tapSize,this.secondAnchor.ww=this.tileLevel.innerWidth/this.tileLevel.tapSize,this.secondAnchor.hh=this.tileLevel.innerHeight/this.tileLevel.tapSize,this.otherAnchor.ww=this.tileLevel.innerWidth/this.tileLevel.tapSize,this.otherAnchor.hh=this.tileLevel.innerHeight/this.tileLevel.tapSize,this.keyZoomAnchor.ww=this.tileLevel.innerWidth/this.tileLevel.tapSize,this.keyZoomAnchor.hh=this.tileLevel.innerHeight/this.tileLevel.tapSize,this.keyWholeAnchor.ww=this.tileLevel.innerWidth/this.tileLevel.tapSize,this.keyWholeAnchor.hh=this.tileLevel.innerHeight/this.tileLevel.tapSize,this.labelsStaticAnchor.ww=this.tileLevel.innerWidth/this.tileLevel.tapSize,this.labelsStaticAnchor.hh=this.tileLevel.innerHeight/this.tileLevel.tapSize,this.labelsOctaveAnchor16.ww=this.tileLevel.innerWidth/this.tileLevel.tapSize,this.labelsOctaveAnchor16.hh=this.tileLevel.innerHeight/this.tileLevel.tapSize,this.labelsOctaveAnchor8.ww=this.tileLevel.innerWidth/this.tileLevel.tapSize,this.labelsOctaveAnchor8.hh=this.tileLevel.innerHeight/this.tileLevel.tapSize,this.labelsOctaveAnchor4.ww=this.tileLevel.innerWidth/this.tileLevel.tapSize,this.labelsOctaveAnchor4.hh=this.tileLevel.innerHeight/this.tileLevel.tapSize,this.labelsOctaveAnchor2.ww=this.tileLevel.innerWidth/this.tileLevel.tapSize,this.labelsOctaveAnchor2.hh=this.tileLevel.innerHeight/this.tileLevel.tapSize,this.labelsBottomAnchor4.ww=this.tileLevel.innerWidth/this.tileLevel.tapSize,this.labelsBottomAnchor4.hh=this.tileLevel.innerHeight/this.tileLevel.tapSize,this.labelsBottomAnchor16.ww=this.tileLevel.innerWidth/this.tileLevel.tapSize,this.labelsBottomAnchor16.hh=this.tileLevel.innerHeight/this.tileLevel.tapSize,this.labelsBottomAnchor64.ww=this.tileLevel.innerWidth/this.tileLevel.tapSize,this.labelsBottomAnchor64.hh=this.tileLevel.innerHeight/this.tileLevel.tapSize,this.labelsBottomAnchor256.ww=this.tileLevel.innerWidth/this.tileLevel.tapSize,this.labelsBottomAnchor256.hh=this.tileLevel.innerHeight/this.tileLevel.tapSize,this.meterPatternAnchor.ww=this.tileLevel.innerWidth/this.tileLevel.tapSize,this.meterPatternAnchor.hh=this.tileLevel.innerHeight/this.tileLevel.tapSize,this.workButtonsGroup.ww=this.tileLevel.innerWidth/this.tileLevel.tapSize,this.workButtonsGroup.hh=this.tileLevel.innerHeight/this.tileLevel.tapSize},e.prototype.resetRandom=function(){var e=new TestSong;this.currentSong=e.createRandomSchedule(),console.log(this.currentSong),this.resetWholeProject()},e}();